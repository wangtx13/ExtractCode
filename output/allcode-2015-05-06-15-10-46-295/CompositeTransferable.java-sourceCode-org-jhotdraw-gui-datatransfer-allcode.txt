org jhotdraw gui datatransfer import awt datatransfer * import util * import io * composite transferable implements transferable clipboard owner { private hash map transferables = new hash map private linked list flavors = new linked list composite transferable { } add transferable t { data flavor f = t get transfer data flavors for i=0 i < f length i++ { if ! transferables contains key f i flavors add f i transferables put f i t } } get transfer data data flavor flavor unsupported flavor i o { transferable t = transferable transferables get flavor if t == throw new unsupported flavor flavor t get transfer data flavor } data flavor get transfer data flavors { data flavor flavors to new data flavor transferables size } is data flavor supported data flavor flavor { transferables contains key flavor } lost ownership clipboard clipboard transferable contents { } } 