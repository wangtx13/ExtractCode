org jhotdraw draw import awt * import awt geom * import org jhotdraw draw attribute keys * import org jhotdraw geom * import org jhotdraw xml dom input import org jhotdraw xml dom output relative locator locator { relative x relative y relative locator { relative x = 0 0 relative y = 0 0 } relative locator relative x relative y { this relative x = relative x this relative y = relative y } awt geom point2 d locate figure owner { rectangle2 d bounds = owner get bounds if owner get decorator != { insets2 d insets = DECORATOR_INSETS get owner if insets != { bounds x = insets left bounds y = insets top bounds width += insets left + insets right bounds height += insets top + insets bottom } } new point2 d bounds x + bounds width * relative x bounds y + bounds height * relative y } locator east { new relative locator 1 0 0 5 } locator north { new relative locator 0 5 0 0 } locator west { new relative locator 0 0 0 5 } locator north east { new relative locator 1 0 0 0 } locator north west { new relative locator 0 0 0 0 } locator south { new relative locator 0 5 1 0 } locator south east { new relative locator 1 0 1 0 } locator south west { new relative locator 0 0 1 0 } locator center { new relative locator 0 5 0 5 } write dom output out { out add attribute relative x relative x 0 5 out add attribute relative y relative y 0 5 } read dom input in { relative x = in get attribute relative x 0 5 relative y = in get attribute relative y 0 5 } } 