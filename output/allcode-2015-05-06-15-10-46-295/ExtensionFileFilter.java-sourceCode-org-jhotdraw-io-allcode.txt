org jhotdraw io import io * import javax swing * import javax swing filechooser * import util * extension filter javax swing filechooser filter { private description private hash set< string> extensions private default extension extension filter description extension { this description = description this extensions = new hash set< string> extensions add extension to lower case default extension = extension } extension filter description extensions { this description = description this extensions = new hash set< string> extlc = new extensions length for i=0 i < extlc length i++ { extlc i = extensions i to lower case } this extensions add all arrays as list extlc default extension = extensions 0 } set< string> get extensions { collections unmodifiable set extensions } accept pathname { if pathname is directory { } else { name = pathname get name p = name last index of ' ' if p == 1 || p == name length 1 { extensions contains } else { extensions contains name substring p + 1 to lower case } } } make acceptable pathname { if accept pathname { pathname } else { new pathname get path +' '+default extension } } get description { description } } 