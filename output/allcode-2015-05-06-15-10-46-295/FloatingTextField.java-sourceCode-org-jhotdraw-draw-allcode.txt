org jhotdraw draw import javax swing * import awt * import awt geom * import awt event * floating text field { private j text field edit widget private drawing view view floating text field { edit widget = new j text field 20 } create overlay drawing view view { create overlay view } request focus { edit widget request focus } create overlay drawing view view text holder figure { view get container add edit widget 0 font f = figure get font f = f derive font f get style float f get size * view get scale factor edit widget set font f edit widget set foreground figure get text color edit widget set background figure get fill color this view = view } insets get insets { edit widget get insets } add action listener action listener listener { edit widget add action listener listener } remove action listener action listener listener { edit widget remove action listener listener } set bounds rectangle r text { edit widget set text text edit widget set bounds r x r y r width r height edit widget set visible edit widget select all edit widget request focus } get text { edit widget get text } dimension get preferred size cols { edit widget set columns cols edit widget get preferred size } end overlay { view get container request focus if edit widget != { edit widget set visible view get container remove edit widget rectangle bounds = edit widget get bounds view get container repaint bounds x bounds y bounds width bounds height } } } 