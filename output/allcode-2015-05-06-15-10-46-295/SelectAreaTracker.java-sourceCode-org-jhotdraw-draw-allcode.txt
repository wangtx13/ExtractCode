org jhotdraw draw import awt event * import awt * import util * select area tracker tool { private rectangle rubber band = new rectangle select area tracker { } mouse pressed mouse event evt { super mouse pressed evt clear rubber band } mouse released mouse event evt { select group evt is shift down clear rubber band } mouse dragged mouse event evt { rectangle invalidated area = rectangle rubber band clone rubber band set bounds math min anchor x evt get x math min anchor y evt get y math abs anchor x evt get x math abs anchor y evt get y if invalidated area is empty { invalidated area = rectangle rubber band clone } else { invalidated area = invalidated area union rubber band } fire area invalidated invalidated area } mouse moved mouse event evt { clear rubber band update cursor editor find view container evt get source new point evt get x evt get y } private clear rubber band { if rubber band width > 0 { fire area invalidated rubber band rubber band width = 0 } } draw graphics2 d g { g set stroke new basic stroke g set color color black g draw rect rubber band x rubber band y rubber band width 1 rubber band height 1 } private select group toggle { get view add to selection get view find figures within rubber band } } 