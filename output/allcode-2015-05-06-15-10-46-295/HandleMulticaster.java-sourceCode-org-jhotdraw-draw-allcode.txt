org jhotdraw draw import org jhotdraw util * import org jhotdraw undo * import awt * import awt event * import util * handle multicaster { linked list< handle> handles composite edit edit handle multicaster handle handle { this handles = new linked list< handle> this handles add handle } handle multicaster collection< handle> handles { this handles = new linked list< handle> handles } draw awt graphics2 d g { for handle h handles { h draw g } } key pressed awt event key event e { for handle h handles { h key pressed e } } key released awt event key event e { for handle h handles { h key released e } } key typed awt event key event e { for handle h handles { h key typed e } } track end point current point anchor modifiers ex drawing view view { for handle h new reversed list< handle> handles { h track end current anchor modifiers ex } view get drawing fire undoable edit happened edit } track start point anchor modifiers ex drawing view view { view get drawing fire undoable edit happened edit = new composite edit for handle h handles { h track start anchor modifiers ex } } track click point p modifiers ex drawing view view { for handle h handles { h track click p modifiers ex } } track step point anchor point modifiers ex drawing view view { for handle h handles { h track step anchor modifiers ex } } } 