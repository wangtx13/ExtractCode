org jhotdraw undo import javax swing undo * import util * composite edit compound edit { private presentation name private is significant private is verbose set verbose b { is verbose = b } composite edit { is significant = } composite edit is significant { this is significant = is significant } composite edit presentation name { this presentation name = presentation name is significant = } composite edit presentation name is significant { this presentation name = presentation name this is significant = is significant } get presentation name { presentation name != ? presentation name super get presentation name } get undo presentation name { presentation name != ? undo redo manager get labels get undo + +presentation name super get undo presentation name } get redo presentation name { presentation name != ? undo redo manager get labels get redo + +presentation name super get redo presentation name } add edit undoable edit an edit { if an edit == this { end } else if is in progress an edit instanceof composite edit { } else { super add edit an edit } } is significant { is significant ? super is significant } set significant new value { is significant = new value } } 