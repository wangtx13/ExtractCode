org jhotdraw draw action import org jhotdraw draw drawing import org jhotdraw draw drawing editor import org jhotdraw draw drawing view import org jhotdraw util * import javax swing * import javax swing undo * import util * import beans * editor action action { drawing editor editor resource bundle util labels = resource bundle util get l a f bundle org jhotdraw draw labels locale get default private property change listener property change handler = new property change listener { property change property change event evt { if evt get property name equals enabled { update enabled state } } } editor action drawing editor editor { this editor = editor if editor != { editor add property change listener property change handler update enabled state } } set editor drawing editor new value { if editor != { editor remove property change listener property change handler } editor = new value if editor != { editor add property change listener property change handler update enabled state } } update enabled state { set enabled editor != editor is enabled } drawing editor get editor { editor } drawing view get view { editor get view } drawing get drawing { get view get drawing } fire undoable edit happened undoable edit edit { get drawing fire undoable edit happened edit } } 