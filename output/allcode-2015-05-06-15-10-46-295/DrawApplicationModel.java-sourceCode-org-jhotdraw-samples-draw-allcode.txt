org jhotdraw samples draw import org jhotdraw util * import util * import javax swing * import org jhotdraw app * import org jhotdraw draw * import org jhotdraw draw action * import org jhotdraw draw attribute keys * draw application model default application model { private default drawing editor shared editor draw application model { } default drawing editor get shared editor { if shared editor == { shared editor = new default drawing editor } shared editor } init project application a project p { if a is sharing tools among projects { draw project p set editor get shared editor } } list< j tool bar> create tool bars application a project pr { resource bundle util labels = resource bundle util get l a f bundle org jhotdraw draw labels draw project p = draw project pr drawing editor editor if p == { editor = get shared editor } else { editor = p get editor } linked list< j tool bar> list = new linked list< j tool bar> j tool bar tb tb = new j tool bar add creation buttons to tb editor tb set name labels get draw tool bar title list add tb tb = new j tool bar tool bar button factory add attributes buttons to tb editor tb set name labels get attributes tool bar title list add tb tb = new j tool bar tool bar button factory add alignment buttons to tb editor tb set name labels get alignment tool bar title list add tb list } private add creation buttons to j tool bar tb drawing editor editor { add default creation buttons to tb editor tool bar button factory create drawing actions editor tool bar button factory create selection actions editor } add default creation buttons to j tool bar tb drawing editor editor collection< action> drawing actions collection< action> selection actions { resource bundle util labels = resource bundle util get l a f bundle org jhotdraw draw labels tool bar button factory add selection tool to tb editor drawing actions selection actions tb add separator attributed figure af creation tool ct connection tool cnt connection figure lc tool bar button factory add tool to tb editor new creation tool new rectangle figure create rectangle labels tool bar button factory add tool to tb editor new creation tool new round rectangle figure create round rectangle labels tool bar button factory add tool to tb editor new creation tool new ellipse figure create ellipse labels tool bar button factory add tool to tb editor new creation tool new diamond figure create diamond labels tool bar button factory add tool to tb editor new creation tool new triangle figure create triangle labels tool bar button factory add tool to tb editor new creation tool new line figure create line labels tool bar button factory add tool to tb editor ct = new creation tool new line figure create arrow labels af = attributed figure ct get prototype af set attribute END_DECORATION new arrow tip 0 35 12 11 3 tool bar button factory add tool to tb editor new connection tool new line connection figure create line connection labels tool bar button factory add tool to tb editor cnt = new connection tool new line connection figure create elbow connection labels lc = cnt get prototype lc set liner new elbow liner tool bar button factory add tool to tb editor new bezier tool new bezier figure create scribble labels tool bar button factory add tool to tb editor new bezier tool new bezier figure create polygon labels tool bar button factory add tool to tb editor new text tool new text figure create text labels tool bar button factory add tool to tb editor new text area tool new text area figure create text area labels } } 