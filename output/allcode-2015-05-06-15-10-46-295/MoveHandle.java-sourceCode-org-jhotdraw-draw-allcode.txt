org jhotdraw draw import awt * import awt geom * import util * move handle locator handle { private point2 d old point private geometry move handle figure owner locator locator { super owner locator } add move handles figure f collection< handle> handles { handles add south east f handles add south west f handles add north east f handles add north west f } draw graphics2 d g { draw rectangle g color white color black } track start point anchor modifiers ex { old point = view get constrainer constrain point view view to drawing anchor } track step point anchor point modifiers ex { figure f = get owner point2 d new point = view get constrainer constrain point view view to drawing affine transform tx = new affine transform tx translate new point x old point x new point y old point y f will change f basic transform tx f changed old point = new point } track end point anchor point modifiers ex { affine transform tx = new affine transform tx translate x anchor x y anchor y fire undoable edit happened new transform edit get owner tx } handle south figure owner { new move handle owner relative locator south } handle south east figure owner { new move handle owner relative locator south east } handle south west figure owner { new move handle owner relative locator south west } handle north figure owner { new move handle owner relative locator north } handle north east figure owner { new move handle owner relative locator north east } handle north west figure owner { new move handle owner relative locator north west } handle east figure owner { new move handle owner relative locator east } handle west figure owner { new move handle owner relative locator west } } 