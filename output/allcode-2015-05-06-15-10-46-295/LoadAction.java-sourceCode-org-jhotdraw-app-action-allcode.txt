org jhotdraw app action import org jhotdraw util * import org jhotdraw gui * import org jhotdraw gui event * import awt * import awt event * import javax swing * import io * import org jhotdraw app application import org jhotdraw app project load action save before action { = load load action application app { super app resource bundle util labels = resource bundle util get l a f bundle org jhotdraw app labels labels configure action this open } do it project project { j chooser chooser = project get open chooser if chooser show open dialog project get component == j chooser APPROVE_OPTION { open project chooser } else { project set enabled } } open project project j chooser chooser { = chooser get selected project execute new worker { construct { try { project read } catch i o e { e } } finished value { opened project value } } } opened project project value { if value == { project set project set enabled get application add recent } else { j sheet show message sheet project get component <html> + u i manager get option pane css + <b> couldn't open the \ +file+ \ </b><br> + value j option pane ERROR_MESSAGE new sheet listener { option selected sheet event evt { project clear project set enabled } } } } } 