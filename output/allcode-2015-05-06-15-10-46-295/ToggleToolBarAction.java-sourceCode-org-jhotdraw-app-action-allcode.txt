org jhotdraw app action import org jhotdraw util * import awt event * import javax swing * import util * import beans * toggle tool bar action action { private j tool bar tool bar private property change listener property handler toggle tool bar action j tool bar tool bar label { super label property handler = new property change listener { property change property change event evt { name = evt get property name if name equals visible { put value actions SELECTED_KEY evt get new value } } } put value actions SELECTED_KEY set tool bar tool bar } put value key new value { super put value key new value if key == actions SELECTED_KEY { if tool bar != { tool bar set visible new value } } } set tool bar j tool bar new value { if tool bar != { tool bar remove property change listener property handler } tool bar = new value if tool bar != { tool bar add property change listener property handler put value actions SELECTED_KEY tool bar is visible } } action performed action event e { if tool bar != { put value actions SELECTED_KEY ! tool bar is visible } } } 