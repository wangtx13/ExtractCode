org jhotdraw draw import io i o import org jhotdraw geom geom import org jhotdraw util * import awt * import awt geom * import org jhotdraw xml dom input import org jhotdraw xml dom output sticky chop connector chop box connector { private float angle sticky chop connector { } draw graphics2 d g { g set color color blue g set stroke new basic stroke g draw get bounds } set angle float angle { this angle = angle } get angle { angle } sticky chop connector figure owner point2 d p { super owner this angle = float geom point to angle owner get bounds p } update anchor point2 d p { this angle = float geom point to angle get owner get bounds p } point2 d get anchor { geom angle to point get owner get bounds angle } point2 d chop figure target point2 d from { geom angle to point target get bounds angle } get { float to float angle / math p i * 180 } read dom input in i o { super read in angle = float in get attribute angle 0 0 } write dom output out i o { super write out out add attribute angle angle } } 