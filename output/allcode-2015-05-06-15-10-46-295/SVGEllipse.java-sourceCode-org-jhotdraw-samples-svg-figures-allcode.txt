org jhotdraw samples svg figures import awt * import awt geom * import io * import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * s v g ellipse ellipse figure implements s v g figure { s v g ellipse { s v g util set defaults this } @ override write dom output out i o { rectangle2 d r = get bounds out add attribute cx r x + r width / 2d out add attribute cy r y + r height / 2d out add attribute rx r width / 2 out add attribute ry r height / 2 write attributes out } write attributes dom output out i o { s v g util write attributes this out } @ override read dom input in i o { rx ry if in get tag name equals circle { rx = ry = s v g util get dimension in r } else { rx = s v g util get dimension in rx ry = s v g util get dimension in ry } x = s v g util get dimension in cx rx y = s v g util get dimension in cy ry w = rx * 2d h = ry * 2d set bounds new point2 d x y new point2 d x+w y+h read attributes in affine transform tx = s v g util get transform in transform basic transform tx } read attributes dom input in i o { s v g util read attributes this in } is empty { rectangle2 d b = get bounds b width <= 0 || b height <= 0 } } 