org jhotdraw samples svg import io i o import org jhotdraw draw * import org jhotdraw samples svg figures * import org jhotdraw xml * s v g drawing default drawing { private title private description s v g drawing { } set title new value { old value = title title = new value fire property change title old value new value } get title { title } set description new value { old value = description description = new value fire property change description old value new value } get description { description } read dom input in i o { for i=0 n = in get element count i < n i++ { in open element i name = in get tag name if name equals title { title = in get text in close element } else if name equals desc { description = in get text in close element } else if name equals defs { in close element } else if name equals use { in close element } else if name equals script { in close element } else if name equals style { in close element } else if name equals radial gradient { in close element } else { in close element f = in read i if f instanceof s v g drawing { s v g group g = new s v g group g will change for figure child s v g drawing f get figures { g basic add child } g changed if ! g is empty { add g } } else if f instanceof s v g figure { if ! s v g figure f is empty { add figure f } } else { throw new i o unexpected child +f } } } read attributes in } read attributes dom input in i o { } @ override write dom output out i o { out add attribute xmlns http out add attribute 1 2 out add attribute base profile tiny for figure f get figures { out write f } } } 