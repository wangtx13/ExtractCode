org jhotdraw app action import awt * import awt event * import javax swing * import javax swing text * import beans * import util * import org jhotdraw util * import org jhotdraw app editable component delete action text action { = delete delete action { super resource bundle util labels = resource bundle util get l a f bundle org jhotdraw app labels labels configure action this } action performed action event evt { component focus owner = keyboard focus manager get current keyboard focus manager get permanent focus owner if focus owner != focus owner instanceof editable component { editable component focus owner delete } else { delete next char evt } } delete next char action event e { j text component target = get text component e beep = if target != target is editable { try { javax swing text document doc = target get document caret caret = target get caret dot = caret get dot mark = caret get mark if dot != mark { doc remove math min dot mark math abs dot mark beep = } else if dot < doc get length { doc remove dot 1 beep = } } catch bad location bl {} } if beep { toolkit get default toolkit beep } } } 