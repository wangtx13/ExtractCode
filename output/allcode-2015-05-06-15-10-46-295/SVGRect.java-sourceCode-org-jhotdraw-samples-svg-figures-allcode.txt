org jhotdraw samples svg figures import awt geom * import io i o import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * s v g rect round rectangle figure implements s v g figure { s v g rect { s v g util set defaults this } read dom input in i o { x = s v g util get dimension in x y = s v g util get dimension in y w = s v g util get dimension in width h = s v g util get dimension in height set bounds new point2 d x y new point2 d x+w y+h set arc s v g util get dimension in rx s v g util get dimension in ry read attributes in affine transform tx = s v g util get transform in transform basic transform tx } read attributes dom input in i o { s v g util read attributes this in } write dom output out i o { rectangle2 d r = get bounds out add attribute x r x out add attribute y r y out add attribute width r width out add attribute height r height out add attribute rx get arc width out add attribute ry get arc height write attributes out } write attributes dom output out i o { s v g util write attributes this out } is empty { rectangle2 d b = get bounds b width <= 0 || b height <= 0 } } 