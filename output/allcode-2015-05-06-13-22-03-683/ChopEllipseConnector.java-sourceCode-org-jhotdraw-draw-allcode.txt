org jhotdraw draw import com sun tools javac jvm gen import org jhotdraw util * import awt * import awt geom * import org jhotdraw draw AttributeKeys attribute keys * import org jhotdraw geom * ChopEllipseConnector chop ellipse connector ChopBoxConnector chop box connector { ChopEllipseConnector chop ellipse connector { } ChopEllipseConnector chop ellipse connector figure owner { super owner } private color getStrokeColor get stroke color figure { color getAttribute get attribute STROKE_COLOR } private float getStrokeWidth get stroke width figure { float = float getAttribute get attribute STROKE_WIDTH == ? 1f floatValue float value } Point2D point2 chop figure target Point2D point2 from { target = getConnectorTarget get connector target target Rectangle2D rectangle2 = target getBounds get bounds if getStrokeColor get stroke color target != { grow switch STROKE_PLACEMENT get target { case CENTER default grow = getStrokeTotalWidth get stroke total width target / 2d break case OUTSIDE sid grow = getStrokeTotalWidth get stroke total width target break case INSIDE sid grow = 0f break } geom grow grow grow } angle = geom pointToAngle point to angle from geom ovalAngleToPoint oval angle to point angle } } 