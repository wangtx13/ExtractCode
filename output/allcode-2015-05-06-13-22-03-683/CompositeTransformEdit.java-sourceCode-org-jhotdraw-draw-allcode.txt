org jhotdraw draw import javax swing undo * import awt geom * CompositeTransformEdit composite transform edit AbstractUndoableEdit undoable edit { private AbstractFigure figure owner private AffineTransform affine transform tx inProgress progress CompositeTransformEdit composite transform edit AbstractFigure figure owner AffineTransform affine transform tx { this owner = owner this tx = AffineTransform affine transform tx clone inProgress progress = } getPresentationName get presentation { figur transformieren } addEdit add edit UndoableEdit undoable edit anEdit edit { if anEdit edit == this { } else { if ! inProgress progress { } else { anEdit edit die } } } replaceEdit replace edit UndoableEdit undoable edit anEdit edit { } redo CannotRedoException cannot redo { super redo owner willChange will change owner basicTransform basic transform tx owner changed } undo CannotUndoException cannot undo { super undo owner willChange will change try { owner basicTransform basic transform tx createInverse create inverse } catch NoninvertibleTransformException noninvertible transform { printStackTrace stack trace } owner changed } isInProgress progress { 	return inProgress progress } { inProgress progress = } canUndo can undo { !isInProgress !is progress super canUndo can undo } canRedo can redo { !isInProgress !is progress super canRedo can redo } } 