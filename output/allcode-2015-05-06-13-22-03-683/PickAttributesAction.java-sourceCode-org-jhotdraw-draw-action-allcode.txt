org jhotdraw draw action import org jhotdraw util * import javax swing * import util * import awt * import org jhotdraw draw * PickAttributesAction pick attributes action AbstractSelectedAction selected action { private ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels locale getDefault get default PickAttributesAction pick attributes action DrawingEditor drawing editor editor { super editor labels configureAction configure action this attributesPick attributes pick setEnabled set enabled } actionPerformed action performed awt event ActionEvent action event { pickAttributes pick attributes } pickAttributes pick attributes { DrawingEditor drawing editor editor = getEditor get editor Collection<Figure> collection< figure> selection = getView get view getSelectedFigures get selected figures if selection size > 0 { figure figure = figure selection iterator next for map Entry<AttributeKey entry< attribute key object> entry figure getAttributes get attributes entrySet entry set { if entry getKey get key != AttributeKeys attribute keys TEXT { editor setDefaultAttribute set default attribute entry getKey get key entry getValue get value } } } } selectionChanged selection changed FigureSelectionEvent figure selection event evt { setEnabled set enabled getView get view getSelectionCount get selection count == 1 } } 