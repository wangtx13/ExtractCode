org jhotdraw draw import org jhotdraw util * import org jhotdraw undo * import awt * import awt event * import util * HandleMulticaster handle multicaster { LinkedList<Handle> linked list< handle> handles CompositeEdit composite edit edit HandleMulticaster handle multicaster handle handle { this handles = new LinkedList<Handle> linked list< handle> this handles add handle } HandleMulticaster handle multicaster Collection<Handle> collection< handle> handles { this handles = new LinkedList<Handle> linked list< handle> handles } draw awt Graphics2D graphics2 { for handle handles { draw } } keyPressed key pressed awt event KeyEvent key event { for handle handles { keyPressed key pressed } } keyReleased key released awt event KeyEvent key event { for handle handles { keyReleased key released } } keyTyped key typed awt event KeyEvent key event { for handle handles { keyTyped key typed } } trackEnd track point current point anchor modifiersEx modifiers DrawingView drawing view view { for handle new ReversedList<Handle> reversed list< handle> handles { trackEnd track current anchor modifiersEx modifiers } view getDrawing get drawing fireUndoableEditHappened fire undoable edit happened edit } trackStart track start point anchor modifiersEx modifiers DrawingView drawing view view { view getDrawing get drawing fireUndoableEditHappened fire undoable edit happened edit = new CompositeEdit composite edit for handle handles { trackStart track start anchor modifiersEx modifiers } } trackDoubleClick track click point modifiersEx modifiers DrawingView drawing view view { for handle handles { trackDoubleClick track click modifiersEx modifiers } } trackStep track step point anchor point modifiersEx modifiers DrawingView drawing view view { for handle handles { trackStep track step anchor modifiersEx modifiers } } } 