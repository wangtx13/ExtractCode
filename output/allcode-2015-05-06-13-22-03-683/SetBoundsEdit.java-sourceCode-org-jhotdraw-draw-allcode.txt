org jhotdraw draw import javax swing undo * import awt * import awt geom * SetBoundsEdit set bounds edit AbstractUndoableEdit undoable edit { private AbstractFigure figure owner private Point2D point2 oldAnchor old anchor oldLead old private Point2D point2 newAnchor new anchor newLead new SetBoundsEdit set bounds edit AbstractFigure figure owner Point2D point2 oldAnchor old anchor Point2D point2 oldLead old Point2D point2 newAnchor new anchor Point2D point2 newLead new { this owner = owner this oldAnchor old anchor = oldAnchor old anchor this oldLead old = oldLead old this newAnchor new anchor = newAnchor new anchor this newLead new = newLead new } getPresentationName get presentation { abmessungen \u00e4ndern } addEdit add edit UndoableEdit undoable edit anEdit edit { if anEdit edit instanceof SetBoundsEdit set bounds edit { SetBoundsEdit set bounds edit that = SetBoundsEdit set bounds edit anEdit edit if that owner == this owner { this newAnchor new anchor = that newAnchor new anchor this newLead new = that newLead new that die } } } replaceEdit replace edit UndoableEdit undoable edit anEdit edit { if anEdit edit instanceof SetBoundsEdit set bounds edit { SetBoundsEdit set bounds edit that = SetBoundsEdit set bounds edit anEdit edit if that owner == this owner { that oldAnchor old anchor = this oldAnchor old anchor that oldLead old = this oldLead old this die } } } redo CannotRedoException cannot redo { super redo owner willChange will change owner setBounds set bounds newAnchor new anchor newLead new owner changed } undo CannotUndoException cannot undo { super undo owner willChange will change owner setBounds set bounds oldAnchor old anchor oldLead old owner changed } } 