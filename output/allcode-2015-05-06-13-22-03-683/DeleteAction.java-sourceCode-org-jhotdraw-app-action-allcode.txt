org jhotdraw app action import awt * import awt event * import javax swing * import javax swing text * import beans * import util * import org jhotdraw util * import org jhotdraw app EditableComponent editable component DeleteAction delete action TextAction text action { = delete DeleteAction delete action { super ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw app labels labels configureAction configure action this } actionPerformed action performed ActionEvent action event evt { component focusOwner focus owner = KeyboardFocusManager keyboard focus manager getCurrentKeyboardFocusManager get current keyboard focus manager getPermanentFocusOwner get permanent focus owner if focusOwner focus owner != focusOwner focus owner instanceof EditableComponent editable component { EditableComponent editable component focusOwner focus owner delete } else { deleteNextChar delete next char evt } } deleteNextChar delete next char ActionEvent action event { JTextComponent text component target = getTextComponent get text component beep = if target != target isEditable editable { try { javax swing text document doc = target getDocument get document caret caret = target getCaret get caret dot = caret getDot get dot mark = caret getMark get mark if dot != mark { doc remove math min dot mark math dot mark beep = } else if dot < doc getLength get length { doc remove dot 1 beep = } } catch BadLocationException bad location {} } if beep { toolkit getDefaultToolkit get default toolkit beep } } } 