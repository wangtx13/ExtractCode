org jhotdraw draw action import org jhotdraw util * import javax swing * import javax swing undo * import org jhotdraw draw * ToggleGridAction toggle grid action AbstractViewAction view action { = alignGrid align grid private label private constrainer onConstrainer constrainer offConstrainer off constrainer ToggleGridAction toggle grid action DrawingEditor drawing editor editor { this editor new GridConstrainer grid constrainer 10 10 new GridConstrainer grid constrainer 1 1 } ToggleGridAction toggle grid action DrawingEditor drawing editor editor constrainer onConstrainer constrainer constrainer offConstrainer off constrainer { this DrawingView drawing view new GridConstrainer grid constrainer 10 10 new GridConstrainer grid constrainer 1 1 setEditor set editor editor } ToggleGridAction toggle grid action DrawingView drawing view view constrainer onConstrainer constrainer constrainer offConstrainer off constrainer { super view this onConstrainer constrainer = onConstrainer constrainer this offConstrainer off constrainer = offConstrainer off constrainer ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels labels configureAction configure action this } actionPerformed action performed awt event ActionEvent action event { if getView get view getConstrainer get constrainer == onConstrainer constrainer { getView get view setConstrainer set constrainer offConstrainer off constrainer } else { getView get view setConstrainer set constrainer onConstrainer constrainer } } } 