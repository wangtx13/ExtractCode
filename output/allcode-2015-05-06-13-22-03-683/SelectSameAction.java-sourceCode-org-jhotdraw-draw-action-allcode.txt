org jhotdraw draw action import org jhotdraw draw DrawingEditor drawing editor import org jhotdraw draw figure import util * import javax swing * SelectSameAction select same action AbstractSelectedAction selected action { SelectSameAction select same action DrawingEditor drawing editor editor { super editor putValue put value AbstractAction action NAME labels getString get editSelectSame edit select same } actionPerformed action performed awt event ActionEvent action event { selectSame select same } selectSame select same { HashSet<Class> hash set< class> selectedClasses selected classes = new HashSet<Class> hash set< class> for figure selected getView get view getSelectedFigures get selected figures { selectedClasses selected classes add selected getClass get } for figure getDrawing get drawing getFigures get figures { if selectedClasses selected classes contains getClass get { getView get view addToSelection add to selection } } } } 