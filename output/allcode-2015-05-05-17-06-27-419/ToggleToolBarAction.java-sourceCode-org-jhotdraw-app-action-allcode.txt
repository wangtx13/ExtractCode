org jhotdraw app action import org jhotdraw util * import awt event * import javax swing * import util * import beans * Toggle Tool Bar Action Abstract Action { private J Tool Bar tool Bar private Property Change Listener property Handler Toggle Tool Bar Action J Tool Bar tool Bar String label { super label property Handler = new Property Change Listener { property Change Property Change Event evt { String = evt get Property Name if equals visible { put Value Actions SELECTED_KEY evt get New Value } } } put Value Actions SELECTED_KEY set Tool Bar tool Bar } put Value String key Object new Value { super put Value key new Value if key == Actions SELECTED_KEY { if tool Bar != { tool Bar set Visible Boolean new Value } } } set Tool Bar J Tool Bar new Value { if tool Bar != { tool Bar remove Property Change Listener property Handler } tool Bar = new Value if tool Bar != { tool Bar add Property Change Listener property Handler put Value Actions SELECTED_KEY tool Bar Visible } } action Performed Action Event { if tool Bar != { put Value Actions SELECTED_KEY ! tool Bar Visible } } } 