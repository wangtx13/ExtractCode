org jhotdraw draw import awt * import awt geom * import util * Move Handle Locator Handle { private Point2 old Point private Object geometry Move Handle Figure owner Locator locator { super owner locator } add Move Handles Figure Collection< Handle> handles { handles add south East handles add south West handles add north East handles add north West } draw Graphics2 { draw Rectangle Color white Color black } track Start Point anchor modifiers Ex { old Point = view get Constrainer constrain Point view view To Drawing anchor } track Step Point anchor Point modifiers Ex { Figure = get Owner Point2 new Point = view get Constrainer constrain Point view view To Drawing Affine Transform tx = new Affine Transform tx translate new Point - old Point new Point - old Point will Change basic Transform tx changed old Point = new Point } track End Point anchor Point modifiers Ex { Affine Transform tx = new Affine Transform tx translate - anchor - anchor fire Undoable Edit Happened new Transform Edit get Owner tx } Handle south Figure owner { new Move Handle owner Relative Locator south } Handle south East Figure owner { new Move Handle owner Relative Locator south East } Handle south West Figure owner { new Move Handle owner Relative Locator south West } Handle north Figure owner { new Move Handle owner Relative Locator north } Handle north East Figure owner { new Move Handle owner Relative Locator north East } Handle north West Figure owner { new Move Handle owner Relative Locator north West } Handle east Figure owner { new Move Handle owner Relative Locator east } Handle west Figure owner { new Move Handle owner Relative Locator west } } 