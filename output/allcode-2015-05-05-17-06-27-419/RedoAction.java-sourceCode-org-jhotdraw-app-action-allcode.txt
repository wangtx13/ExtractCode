org jhotdraw app action import awt * import awt event * import javax swing * import javax swing text * import beans * import util * import org jhotdraw util * import org jhotdraw app Application import org jhotdraw app Project Redo Action Abstract Project Action { String = redo private Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels private Property Change Listener redo Action Property Listener = new Property Change Listener { property Change Property Change Event evt { String = evt get Property Name if == Abstract Action N A M E { put Value Abstract Action N A M E evt get New Value } else if == enabled { update Enabled State } } } Redo Action Application app { super app labels configure Action this } update Enabled State { Enabled = Action real Redo Action = get Real Redo Action if real Redo Action != { Enabled = real Redo Action Enabled } set Enabled Enabled } @ Override update Project Project old Value Project new Value { super update Project old Value new Value if new Value != { put Value Abstract Action N A M E new Value get Action redo get Value Abstract Action N A M E update Enabled State } } @ Override install Project Listeners Project { super install Project Listeners get Action redo add Property Change Listener redo Action Property Listener } @ Override uninstall Project Listeners Project { super uninstall Project Listeners get Action redo remove Property Change Listener redo Action Property Listener } action Performed Action Event { Action real Redo Action = get Real Redo Action if real Redo Action != { real Redo Action action Performed } } private Action get Real Redo Action { get Current Project == ? get Current Project get Action redo } } 