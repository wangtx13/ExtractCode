org jhotdraw draw import awt * import awt geom * import * import util * import org jhotdraw draw Attribute Keys * import org jhotdraw geom Geom Rectangle Figure Attributed Figure { private Rectangle2 rectangle Rectangle Figure { this 0 0 0 0 } Rectangle Figure width height { rectangle = new Rectangle2 width height } Rectangle2 get Bounds { Rectangle2 bounds = Rectangle2 rectangle clone bounds } draw Fill Graphics2 { Rectangle2 = Rectangle2 rectangle clone grow = Attribute Keys get Perpendicular Fill Growth this Geom grow grow grow fill } draw Stroke Graphics2 { Rectangle2 = Rectangle2 rectangle clone grow = Attribute Keys get Perpendicular Draw Growth this Geom grow grow grow draw } Rectangle2 get Figure Draw Bounds { Rectangle2 = Rectangle2 rectangle clone grow = Attribute Keys get Perpendicular Hit Growth this + 1d Geom grow grow grow } contains Point2 { Rectangle2 = Rectangle2 rectangle clone grow = Attribute Keys get Perpendicular Hit Growth this + 1d Geom grow grow grow contains } basic Set Bounds Point2 anchor Point2 { rectangle = Math min anchor rectangle = Math min anchor rectangle width = Math max 0 1 Math - anchor rectangle height = Math max 0 1 Math - anchor } basic Transform Affine Transform tx { Point2 anchor = get Start Point Point2 = get End Point basic Set Bounds Point2 tx transform anchor anchor Point2 tx transform } Rectangle Figure clone { Rectangle Figure that = Rectangle Figure super clone that rectangle = Rectangle2 this rectangle clone that } restore To Object geometry { Rectangle2 = Rectangle2 geometry rectangle = rectangle = rectangle width = width rectangle height = height } Object get Restore Data { rectangle clone } } 