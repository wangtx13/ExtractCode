org jhotdraw draw import awt geom * import awt * import javax swing Border Factory import javax swing J Text Area import javax swing J Scroll Pane Floating Text Area { J Scroll Pane edit Scroll Container J Text Area edit Widget Drawing View view Floating Text Area { edit Widget = new J Text Area edit Widget set Wrap Style Word edit Widget set Line Wrap edit Scroll Container = new J Scroll Pane edit Widget J Scroll Pane VERTICAL_SCROLLBAR_ALWAYS J Scroll Pane HORIZONTAL_SCROLLBAR_NEVER edit Scroll Container set Cursor Cursor get Predefined Cursor Cursor DEFAULT_CURSOR edit Scroll Container set Border Border Factory create Line Border Color black } create Overlay Drawing View view { create Overlay view } request Focus { edit Widget request Focus } create Overlay Drawing View view Text Holder figure { view get Container add edit Scroll Container 0 if figure != { Font = figure get Font = derive Font get Style float get Size * view get Scale Factor edit Widget set Font edit Widget set Foreground figure get Text Color edit Widget set Background figure get Fill Color edit Widget set Tab Size figure get Tab Size } this view = view } set Bounds Rectangle2 String text { edit Widget set Text text edit Scroll Container set Bounds view drawing To View edit Scroll Container set Visible edit Widget set Caret Position 0 edit Widget request Focus } String get Text { edit Widget get Text } Dimension get Preferred Size cols { new Dimension edit Widget get Width edit Widget get Height } Overlay { view get Container request Focus if edit Scroll Container != { edit Scroll Container set Visible view get Container remove edit Scroll Container Rectangle bounds = edit Scroll Container get Bounds view get Container repaint bounds bounds bounds width bounds height } } } 