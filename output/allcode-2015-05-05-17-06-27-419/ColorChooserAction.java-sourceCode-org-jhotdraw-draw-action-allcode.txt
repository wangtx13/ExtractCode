org jhotdraw draw action import javax swing * import util * import awt * import beans * import javax swing * import org jhotdraw draw * Color Chooser Action Abstract Selected Action { private Attribute Key key private J Color Chooser color Chooser Color Chooser Action Drawing Editor editor Attribute Key key { this editor key } Color Chooser Action Drawing Editor editor Attribute Key key Icon icon { this editor key icon } Color Chooser Action Drawing Editor editor Attribute Key key String { this editor key } Color Chooser Action Drawing Editor editor Attribute Key key String Icon icon { super editor this key = key put Value Abstract Action N A M E put Value Abstract Action SMALL_ICON icon set Enabled } action Performed awt event Action Event { if color Chooser == { color Chooser = new J Color Chooser } Color initial Color = Color get Editor get Default Attribute key if initial Color == { initial Color = Color red } Color chosen Color = color Chooser show Dialog Component get Source labels get String draw Color initial Color if chosen Color != { change Attribute chosen Color } } change Attribute Color value { Drawing drawing = get Drawing Iterator = get View get Selected Figures iterator while has Next { Figure figure = Figure next figure set Attribute key value } get Editor set Default Attribute key value } selection Changed Figure Selection Event evt { } } 