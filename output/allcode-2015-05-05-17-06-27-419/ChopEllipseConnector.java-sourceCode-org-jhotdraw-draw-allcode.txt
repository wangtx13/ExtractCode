org jhotdraw draw import com sun tools javac jvm Gen import org jhotdraw util * import awt * import awt geom * import org jhotdraw draw Attribute Keys * import org jhotdraw geom * Chop Ellipse Connector Chop Box Connector { Chop Ellipse Connector { } Chop Ellipse Connector Figure owner { super owner } private Color get Stroke Color Figure { Color get Attribute STROKE_COLOR } private float get Stroke Width Figure { Float = Float get Attribute STROKE_WIDTH == ? 1f float Value } Point2 chop Figure target Point2 from { target = get Connector Target target Rectangle2 = target get Bounds if get Stroke Color target != { grow switch STROKE_PLACEMENT get target { case C E N T E R default grow = get Stroke Total Width target / 2d break case O U T Sid E grow = get Stroke Total Width target break case I N Sid E grow = 0f break } Geom grow grow grow } angle = Geom point To Angle from Geom oval Angle To Point angle } } 