org jhotdraw app action import org jhotdraw util * import awt event Action Event import beans * import org jhotdraw app Application Clear Recent Files Action Abstract Application Action { String = clear Recent Files private Property Change Listener application Listener Clear Recent Files Action Application app { super app Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels labels configure Action this clear Menu update Enabled } @ Override install Application Listeners Application app { super install Application Listeners app if application Listener == { application Listener = create Application Listener } app add Property Change Listener application Listener } private Property Change Listener create Application Listener { new Property Change Listener { property Change Property Change Event evt { if evt get Property Name == recent Files { update Enabled } } } } @ Override uninstall Application Listeners Application app { super uninstall Application Listeners app app remove Property Change Listener application Listener } action Performed Action Event { get Application clear Recent Files } private update Enabled { set Enabled get Application recent Files size > 0 } } 