org jhotdraw draw action import org jhotdraw draw Drawing import org jhotdraw draw Drawing Editor import org jhotdraw draw Drawing View import org jhotdraw util * import javax swing * import javax swing undo * import util * import beans * Abstract Editor Action Abstract Action { Drawing Editor editor Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw draw Labels Locale get Default private Property Change Listener property Change Handler = new Property Change Listener { property Change Property Change Event evt { if evt get Property Name equals enabled { update Enabled State } } } Abstract Editor Action Drawing Editor editor { this editor = editor if editor != { editor add Property Change Listener property Change Handler update Enabled State } } set Editor Drawing Editor new Value { if editor != { editor remove Property Change Listener property Change Handler } editor = new Value if editor != { editor add Property Change Listener property Change Handler update Enabled State } } update Enabled State { set Enabled editor != editor Enabled } Drawing Editor get Editor { editor } Drawing View get View { editor get View } Drawing get Drawing { get View get Drawing } fire Undoable Edit Happened Undoable Edit edit { get Drawing fire Undoable Edit Happened edit } } 