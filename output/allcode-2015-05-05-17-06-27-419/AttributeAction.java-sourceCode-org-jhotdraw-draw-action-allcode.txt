org jhotdraw draw action import org jhotdraw undo * import javax swing * import javax swing text * import util * import awt * import org jhotdraw draw * import org jhotdraw geom * Attribute Action Abstract Selected Action { Map< Attribute Key Object> attributes Attribute Action Drawing Editor editor Attribute Key key Object value { this editor key value } Attribute Action Drawing Editor editor Attribute Key key Object value Icon icon { this editor key value icon } Attribute Action Drawing Editor editor Attribute Key key Object value String { this editor key value } Attribute Action Drawing Editor editor Attribute Key key Object value String Icon icon { this editor key value icon } Attribute Action Drawing Editor editor Attribute Key key Object value String Icon icon Action compatible Text Action { super editor this attributes = new Hash Map< Attribute Key Object> attributes put key value put Value Abstract Action N A M E put Value Abstract Action SMALL_ICON icon set Enabled } Attribute Action Drawing Editor editor Map< Attribute Key Object> attributes String Icon icon { super editor this attributes = attributes put Value Abstract Action N A M E put Value Abstract Action SMALL_ICON icon set Enabled } action Performed awt event Action Event evt { if get View != get View get Selection Count > 0 { Composite Edit edit = new Composite Edit labels get String draw Attribute Change fire Undoable Edit Happened edit change Attributes fire Undoable Edit Happened edit } } change Attributes { Drawing drawing = get Drawing for Map Entry< Attribute Key Object> entry attributes entry Set { Attribute Key key = entry get Key Object value = entry get Value Iterator = get View get Selected Figures iterator while has Next { Figure figure = Figure next figure set Attribute key value } get Editor set Default Attribute key value } } } 