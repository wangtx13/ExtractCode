org jhotdraw samples net import awt * import awt event * import util * import javax swing * import org jhotdraw app * import org jhotdraw app action * import org jhotdraw draw * import org jhotdraw draw action * import org jhotdraw samples net figures * import org jhotdraw util * Net Application Model Default Application Model { private scale Factors = {5 4 3 2 1 5 1 25 1 0 75 0 5 0 25 0 10} private Tool Button Listener implements Item Listener { private Tool tool private Drawing Editor editor Tool Button Listener Tool Drawing Editor editor { this tool = this editor = editor } item State Changed Item Event evt { if evt get State Change == Item Event S E L E C T E { editor set Tool tool } } } private Default Drawing Editor shared Editor private Hash Map< String Action> actions Net Application Model { } init Application Application { Resource Bundle Util draw Labels = Resource Bundle Util get L A F Bundle org jhotdraw draw Labels Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw samples net Labels Abstract Action aa put Action Export Action new Export Action put Action toggle Grid aa = new Toggle Project Property Action grid Visible draw Labels configure Action aa align Grid for sf scale Factors { put Action sf*100 + % aa = new Project Property Action scale Factor T Y P E new sf aa put Value Action N A M E sf*100 + % } } Default Drawing Editor get Shared Editor { if shared Editor == { shared Editor = new Default Drawing Editor } shared Editor } init Project Application Project { if Sharing Tools Among Projects { Net Project set Drawing Editor get Shared Editor } } private add Creation Buttons To J Tool Bar tb Drawing Editor editor { Hash Map< Attribute Key Object> attributes Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw samples net Labels Resource Bundle Util draw Labels = Resource Bundle Util get L A F Bundle org jhotdraw draw Labels Tool Bar Button Factory add Selection Tool To tb editor tb add Separator attributes = new Hash Map< Attribute Key Object> attributes put Attribute Keys FILL_COLOR Color white attributes put Attribute Keys STROKE_COLOR Color black attributes put Attribute Keys TEXT_COLOR Color black Tool Bar Button Factory add Tool To tb editor new Text Tool new Node Figure attributes create Node labels attributes = new Hash Map< Attribute Key Object> attributes put Attribute Keys STROKE_COLOR new Color 0x000099 Tool Bar Button Factory add Tool To tb editor new Connection Tool new Line Connection Figure attributes create Link labels } util List< J Tool Bar> create Tool Bars Application Project { Resource Bundle Util draw Labels = Resource Bundle Util get L A F Bundle org jhotdraw draw Labels Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw samples net Labels Net Project = Net Project Drawing Editor editor if == { editor = get Shared Editor } else { editor = get Drawing Editor } Linked List< J Tool Bar> list = new Linked List< J Tool Bar> J Tool Bar tb tb = new J Tool Bar add Creation Buttons To tb editor tb set Name draw Labels get String draw Tool Bar Title list add tb tb = new J Tool Bar Tool Bar Button Factory add Attributes Buttons To tb editor tb set Name draw Labels get String attributes Tool Bar Title list add tb tb = new J Tool Bar Tool Bar Button Factory add Alignment Buttons To tb editor tb set Name draw Labels get String alignment Tool Bar Title list add tb list } util List< J Menu> create Menus Application Project { Net Project = Net Project Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels Linked List< J Menu> mb = new Linked List< J Menu> J Menu m2 J Menu Item mi J Radio Button Menu Item rbmi J Check Box Menu Item cbmi Button Group group = new J Menu labels configure Menu view cbmi = new J Check Box Menu Item get Action toggle Grid Actions configure J Check Box Menu Item cbmi get Action toggle Grid add cbmi m2 = new J Menu Zoom for sf scale Factors { String = sf*100 + % cbmi = new J Check Box Menu Item get Action Actions configure J Check Box Menu Item cbmi get Action m2 add cbmi } add m2 mb add mb } } 