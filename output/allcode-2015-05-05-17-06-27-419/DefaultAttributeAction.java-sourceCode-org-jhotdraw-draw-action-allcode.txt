org jhotdraw draw action import org jhotdraw undo * import javax swing * import awt * import beans * import util * import org jhotdraw draw * Default Attribute Action Abstract Selected Action { private Attribute Key keys Default Attribute Action Drawing Editor editor Attribute Key key { this editor key } Default Attribute Action Drawing Editor editor Attribute Key keys { this editor keys } Default Attribute Action Drawing Editor editor Attribute Key key Icon icon { this editor key icon } Default Attribute Action Drawing Editor editor Attribute Key key String { this editor key } Default Attribute Action Drawing Editor editor Attribute Key key String Icon icon { this editor new Attribute Key {key} icon } Default Attribute Action Drawing Editor editor Attribute Key keys String Icon icon { super editor this keys = keys put Value Abstract Action N A M E put Value Abstract Action SMALL_ICON icon set Enabled editor add Property Change Listener new Property Change Listener { property Change Property Change Event evt { if evt get Property Name equals Default Attribute Action this keys 0 { put Value attribute_ + Default Attribute Action this keys 0 evt get New Value } } } } action Performed awt event Action Event evt { if get View != get View get Selection Count > 0 { Composite Edit edit = new Composite Edit labels get String draw Attribute Change fire Undoable Edit Happened edit change Attribute fire Undoable Edit Happened edit } } change Attribute { Drawing drawing = get Drawing Iterator = get View get Selected Figures iterator while has Next { Figure figure = Figure next for j=0 < keys length j++ { figure set Attribute keys get Editor get Default Attribute keys } } } selection Changed Figure Selection Event evt { } } 