org jhotdraw draw import awt * import awt font * import awt geom * import util * import * Label Figure Text Figure implements Figure Listener { private Text Holder target Label Figure { this Label } Label Figure String text { set Text text set Editable } set Label For Text Holder target { if this target != { this target remove Figure Listener this } this target = target if this target != { this target add Figure Listener this } } Text Holder get Label For { target == ? this target } Tool get Tool Point2 { target != contains ? new Text Tool target } figure Area Invalidated Figure Event { } figure Attribute Changed Figure Event { } figure Added Figure Event { } figure Changed Figure Event { } figure Removed Figure Event { if get Figure == target { target remove Figure Listener this target = } } figure Request Remove Figure Event { } remap Hash Map old To New { super remap old To New if target != { Figure new Target = Figure old To New get target if new Target != { target remove Figure Listener this target = Text Holder new Target new Target add Figure Listener this } } } } 