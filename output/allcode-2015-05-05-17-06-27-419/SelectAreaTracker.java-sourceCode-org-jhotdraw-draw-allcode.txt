org jhotdraw draw import awt event * import awt * import util * Select Area Tracker Abstract Tool { private Rectangle rubber Band = new Rectangle Select Area Tracker { } mouse Pressed Mouse Event evt { super mouse Pressed evt clear Rubber Band } mouse Released Mouse Event evt { select Group evt Shift Down clear Rubber Band } mouse Dragged Mouse Event evt { Rectangle invalidated Area = Rectangle rubber Band clone rubber Band set Bounds Math min anchor evt get X Math min anchor evt get Y Math anchor - evt get X Math anchor - evt get Y if invalidated Area Empty { invalidated Area = Rectangle rubber Band clone } else { invalidated Area = invalidated Area union rubber Band } fire Area Invalidated invalidated Area } mouse Moved Mouse Event evt { clear Rubber Band update Cursor editor find View Container evt get Source new Point evt get X evt get Y } private clear Rubber Band { if rubber Band width > 0 { fire Area Invalidated rubber Band rubber Band width = 0 } } draw Graphics2 { set Stroke new Basic Stroke set Color Color black draw Rect rubber Band rubber Band rubber Band width - 1 rubber Band height - 1 } private select Group toggle { get View add To Selection get View find Figures Within rubber Band } } 