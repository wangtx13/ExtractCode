org jhotdraw draw import javax swing undo * import awt * import awt event * import awt geom * import util * import org jhotdraw geom * Line Figure Bezier Figure { Line Figure { basic Add Node new Bezier Path Node new Point2 0 0 basic Add Node new Bezier Path Node new Point2 0 0 } Collection< Handle> create Handles detail Level { Linked List< Handle> handles = new Linked List< Handle> switch detail Level { case 0 for i=0 = path size < i++ { handles add new Bezier Node Handle this } break } handles } can Connect { } handle Mouse Click Point2 Mouse Event evt Drawing View view { if evt get Click Count == 2 view get Handle Detail Level == 0 { will Change index = basic Split Segment float 5f / view get Scale Factor if index != -1 { Bezier Path Node new Node = get Node index fire Undoable Edit Happened new Abstract Undoable Edit { redo Cannot Redo Exception { super redo will Change basic Add Node index new Node changed } undo Cannot Undo Exception { super undo will Change basic Remove Node index changed } } changed } } } } 