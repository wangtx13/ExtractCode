org jhotdraw app action import org jhotdraw util * import beans * import awt * import awt event * import javax swing * import * import org jhotdraw app Project Focus Action Abstract Action { String = focus private Project project Focus Action Project project { this project = project Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels labels configure Action this set Enabled project != project add Property Change Listener new Property Change Listener { property Change Property Change Event evt { Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels String = evt get Property Name if equals { put Value Action N A M E evt get New Value == ? labels get String unnamed File File evt get New Value get Name } } } } Object get Value String key { if key == Action N A M E project != { get Title } else { super get Value key } } private String get Title { Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels String title = labels get String unnamed File if project != { File = project get File if == { title = labels get String unnamed File } else { title = get Name } if project has Unsaved Changes { title += * } title = labels get Formatted internal Frame Title title project get Application get Name project get Multiple Open Id } title } private J Frame get Frame { J Frame Swing Utilities get Window Ancestor project get Component } private Component get Root Pane Container { Swing Utilities get Root Pane project get Component get Parent } action Performed Action Event evt { Component rp Container = get Root Pane Container if rp Container instanceof Frame { Frame frame = Frame rp Container frame set Extended State frame get Extended State ~ Frame I C O N I F I E frame to Front } else if rp Container instanceof J Internal Frame { J Internal Frame frame = J Internal Frame rp Container frame to Front try { frame set Selected } catch Property Veto Exception { } } project get Component request Focus In Window } } 