org jhotdraw samples svg figures import awt * import awt geom * import * import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * S V G Ellipse Ellipse Figure implements S V G Figure { S V G Ellipse { S V G Util set Defaults this } @ Override write Dom Output out I O Exception { Rectangle2 = get Bounds out add Attribute cx + width / 2d out add Attribute cy + height / 2d out add Attribute rx width / 2 out add Attribute ry height / 2 write Attributes out } write Attributes Dom Output out I O Exception { S V G Util write Attributes this out } @ Override read Dom Input I O Exception { rx ry if get Tag Name equals circle { rx = ry = S V G Util get Dimension } else { rx = S V G Util get Dimension rx ry = S V G Util get Dimension ry } = S V G Util get Dimension cx - rx = S V G Util get Dimension cy - ry = rx * 2d = ry * 2d set Bounds new Point2 new Point2 x+w y+h read Attributes Affine Transform tx = S V G Util get Transform transform basic Transform tx } read Attributes Dom Input I O Exception { S V G Util read Attributes this } Empty { Rectangle2 = get Bounds width <= 0 || height <= 0 } } 