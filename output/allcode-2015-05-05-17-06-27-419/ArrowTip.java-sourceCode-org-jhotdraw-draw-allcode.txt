org jhotdraw draw import * import awt * import awt geom * import org jhotdraw util * import org jhotdraw xml Dom Input import org jhotdraw xml Dom Output import org jhotdraw xml Dom Storable Arrow Tip Abstract Line Decoration implements Dom Storable { private angle private outer Radius private inner Radius Arrow Tip { this 0 35 12 11 3 } Arrow Tip angle outer Radius inner Radius { this angle outer Radius inner Radius } Arrow Tip angle outer Radius inner Radius Filled Stroked Solid { super Filled Stroked Solid this angle = angle this outer Radius = outer Radius this inner Radius = inner Radius } General Path get Decorator Path Figure { offset = Stroked ? 1 0 General Path path = new General Path path move To float outer Radius * Math sin -angle float offset + outer Radius * Math cos -angle path line To 0 float offset path line To float outer Radius * Math sin angle float offset + outer Radius * Math cos angle if inner Radius != 0 { path line To 0 float inner Radius + offset path close Path } path } get Decorator Path Radius Figure { offset = Stroked ? 0 5 -0 1 inner Radius + offset } read Dom Input { angle = get Attribute angle 0 35f inner Radius = get Attribute inner Radius 12f outer Radius = get Attribute outer Radius 12f set Filled get Attribute Filled set Stroked get Attribute Stroked set Solid get Attribute Solid } write Dom Output out { out add Attribute angle angle out add Attribute inner Radius inner Radius out add Attribute outer Radius outer Radius out add Attribute Filled Filled out add Attribute Stroked Stroked out add Attribute Solid Solid } } 