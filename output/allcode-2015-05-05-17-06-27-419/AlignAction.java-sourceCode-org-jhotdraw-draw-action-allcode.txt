org jhotdraw draw action import org jhotdraw draw Drawing Editor import org jhotdraw draw Figure import org jhotdraw draw Figure Selection Event import org jhotdraw draw Transform Edit import org jhotdraw undo Composite Edit import javax swing * import awt * import awt geom * import util * import javax swing undo * Align Action Abstract Selected Action { Align Action Drawing Editor editor { super editor } update Enabled State { if get View != { set Enabled get View Enabled get View get Selection Count > 1 } else { set Enabled } } action Performed awt event Action Event { Composite Edit edit = new Composite Edit labels get String align fire Undoable Edit Happened edit align Figures get View get Selected Figures get Selection Bounds fire Undoable Edit Happened edit } align Figures Collection selected Figures Rectangle2 selection Bounds Rectangle2 get Selection Bounds { Rectangle2 bounds = for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next if bounds == { bounds = get Bounds } else { bounds add get Bounds } } bounds } North Align Action { North Drawing Editor editor { super editor labels configure Action this align North } align Figures Collection selected Figures Rectangle2 selection Bounds { = selection Bounds for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next will Change Rectangle2 = get Bounds Affine Transform tx = new Affine Transform tx translate 0 - basic Transform tx changed fire Undoable Edit Happened new Transform Edit tx } } } East Align Action { East Drawing Editor editor { super editor labels configure Action this align East } align Figures Collection selected Figures Rectangle2 selection Bounds { = selection Bounds + selection Bounds width for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next will Change Rectangle2 = get Bounds Affine Transform tx = new Affine Transform tx translate - - width 0 basic Transform tx changed fire Undoable Edit Happened new Transform Edit tx } } } West Align Action { West Drawing Editor editor { super editor labels configure Action this align West } align Figures Collection selected Figures Rectangle2 selection Bounds { = selection Bounds for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next will Change Rectangle2 = get Bounds Affine Transform tx = new Affine Transform tx translate - 0 basic Transform tx changed fire Undoable Edit Happened new Transform Edit tx } } } South Align Action { South Drawing Editor editor { super editor labels configure Action this align South } align Figures Collection selected Figures Rectangle2 selection Bounds { = selection Bounds + selection Bounds height for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next will Change Rectangle2 = get Bounds Affine Transform tx = new Affine Transform tx translate 0 - - height basic Transform tx changed fire Undoable Edit Happened new Transform Edit tx } } } Vertical Align Action { Vertical Drawing Editor editor { super editor labels configure Action this align Vertical } align Figures Collection selected Figures Rectangle2 selection Bounds { = selection Bounds + selection Bounds height / 2 for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next will Change Rectangle2 = get Bounds Affine Transform tx = new Affine Transform tx translate 0 - - height / 2 basic Transform tx changed fire Undoable Edit Happened new Transform Edit tx } } } Horizontal Align Action { Horizontal Drawing Editor editor { super editor labels configure Action this align Horizontal } align Figures Collection selected Figures Rectangle2 selection Bounds { = selection Bounds + selection Bounds width / 2 for Iterator i=get View get Selected Figures iterator has Next { Figure = Figure next will Change Rectangle2 = get Bounds Affine Transform tx = new Affine Transform tx translate - - width / 2 0 basic Transform tx changed fire Undoable Edit Happened new Transform Edit tx } } } } 