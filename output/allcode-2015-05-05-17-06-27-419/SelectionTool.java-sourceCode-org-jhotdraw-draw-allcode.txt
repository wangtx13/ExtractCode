org jhotdraw draw import awt * import awt event * Selection Tool Abstract Tool implements Tool Listener { private Tool tracker Selection Tool { tracker = create Area Tracker tracker add Tool Listener this } activate Drawing Editor editor { super activate editor tracker activate editor } deactivate Drawing Editor editor { super deactivate editor tracker deactivate editor } key Pressed Key Event { tracker key Pressed } key Released Key Event evt { tracker key Released evt } key Typed Key Event evt { tracker key Typed evt } mouse Clicked Mouse Event evt { tracker mouse Clicked evt } mouse Dragged Mouse Event evt { tracker mouse Dragged evt } mouse Entered Mouse Event evt { super mouse Entered evt tracker mouse Entered evt } mouse Exited Mouse Event evt { super mouse Exited evt tracker mouse Exited evt } mouse Moved Mouse Event evt { tracker mouse Moved evt } mouse Released Mouse Event evt { tracker mouse Released evt } draw Graphics2 { tracker draw } mouse Pressed Mouse Event evt { super mouse Pressed evt Drawing View view = get View Handle handle = view find Handle anchor Tool new Tracker = if handle != { new Tracker = create Handle Tracker handle } else { Figure figure = view find Figure anchor if figure != { new Tracker = create Drag Tracker figure } else { if ! evt Shift Down { view clear Selection view set Handle Detail Level 0 } new Tracker = create Area Tracker } } if new Tracker != { set Tracker new Tracker } tracker mouse Pressed evt } set Tracker Tool new Tracker { if tracker != { tracker deactivate get Editor tracker remove Tool Listener this } tracker = new Tracker if tracker != { tracker activate get Editor tracker add Tool Listener this } } Tool create Handle Tracker Handle handle { new Handle Tracker handle get View get Compatible Handles handle } Tool create Drag Tracker Figure { new Drag Tracker } Tool create Area Tracker { new Select Area Tracker } tool Started Tool Event event { } tool Done Tool Event event { Tool new Tracker = create Area Tracker if new Tracker != { if tracker != { tracker deactivate get Editor tracker remove Tool Listener this } tracker = new Tracker tracker activate get Editor tracker add Tool Listener this } fire Tool Done } area Invalidated Tool Event { fire Area Invalidated get Invalidated Area } } 