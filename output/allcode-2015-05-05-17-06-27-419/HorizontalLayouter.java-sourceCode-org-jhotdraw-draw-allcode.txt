org jhotdraw draw import org jhotdraw util * import awt * import awt geom * import util * import org jhotdraw geom * import org jhotdraw draw Attribute Keys * Horizontal Layouter Abstract Layouter { Rectangle2 calculate Layout Composite Figure composite Figure Point2 anchor Point2 { Insets2 layout Insets = LAYOUT_INSETS get composite Figure Rectangle2 layout Bounds = new Rectangle2 anchor anchor 0 0 for Figure child composite Figure get Children { if child Visible { Dimension2 preferred Size = child get Preferred Size Insets2 ins = get Insets child layout Bounds height = Math max layout Bounds height preferred Size height + ins top + ins bottom layout Bounds width += preferred Size width + ins left + ins right } } layout Bounds width += layout Insets left + layout Insets right layout Bounds height += layout Insets top + layout Insets bottom layout Bounds } Rectangle2 layout Composite Figure composite Figure Point2 anchor Point2 { Insets2 layout Insets = LAYOUT_INSETS get composite Figure Rectangle2 layout Bounds = calculate Layout composite Figure anchor = layout Bounds + layout Insets left for Figure child composite Figure get Children { if child Visible { Insets2 insets = get Insets child width = child get Preferred Size width child basic Set Bounds new Point2 + insets left layout Bounds + layout Insets top + insets top new Point2 + insets left + width layout Bounds + layout Bounds height - layout Insets bottom - insets bottom += width + insets left + insets right } } layout Bounds } } 