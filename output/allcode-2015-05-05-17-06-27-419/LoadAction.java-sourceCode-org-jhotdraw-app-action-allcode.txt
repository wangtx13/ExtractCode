org jhotdraw app action import org jhotdraw util * import org jhotdraw gui * import org jhotdraw gui event * import awt * import awt event * import javax swing * import * import org jhotdraw app Application import org jhotdraw app Project Load Action Save Before Action { String = load Load Action Application app { super app Resource Bundle Util labels = Resource Bundle Util get L A F Bundle org jhotdraw app Labels labels configure Action this open } It Project project { J File Chooser Chooser = project get Open Chooser if Chooser show Open Dialog project get Component == J File Chooser APPROVE_OPTION { open File project Chooser } else { project set Enabled } } open File Project project J File Chooser Chooser { File = Chooser get Selected File project execute new Worker { Object construct { try { project read } catch I O Exception { } } finished Object value { Opened project value } } } Opened Project project File Object value { if value == { project set File project set Enabled get Application add Recent File } else { J Sheet show Message Sheet project get Component <html> + U I Manager get String Option Pane css + <b> Couldn't open the \ +file+ \ </b><br> + value J Option Pane ERROR_MESSAGE new Sheet Listener { option Selected Sheet Event evt { project clear project set Enabled } } } } } 