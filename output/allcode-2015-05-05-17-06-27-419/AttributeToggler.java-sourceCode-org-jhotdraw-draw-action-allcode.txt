org jhotdraw draw action import awt * import awt event * import javax swing * import javax swing text * import javax swing event * import util * import org jhotdraw draw * Attribute Toggler implements Action Listener { private Drawing Editor editor private Attribute Key key private Object value1 private Object value2 private Action compatible Text Action Attribute Toggler Drawing Editor editor Attribute Key key Object value1 Object value2 { this editor key value1 value2 } Attribute Toggler Drawing Editor editor Attribute Key key Object value1 Object value2 Action compatible Text Action { this editor = editor this key = key this value1 = value1 this value2 = value2 this compatible Text Action = compatible Text Action } Drawing View get View { editor get View } Drawing Editor get Editor { editor } action Performed Action Event evt { if compatible Text Action != { Component focus Owner = Keyboard Focus Manager get Current Keyboard Focus Manager get Permanent Focus Owner if focus Owner != focus Owner instanceof J Text Component { compatible Text Action action Performed evt } } Iterator = get View get Selected Figures iterator Object new Value = if has Next { Figure = Figure next Object attr = get Attribute key if value1 == attr == || value1 != attr != attr equals value1 { new Value = value2 } else { new Value = value1 } get Editor set Default Attribute key new Value set Attribute key new Value } while has Next { Figure = Figure next set Attribute key new Value } } } 