org jhotdraw app action import org jhotdraw util * import org jhotdraw gui * import org jhotdraw gui event * import awt * import awt event * import util * import util prefs * import javax swing * import * import org jhotdraw app Application import org jhotdraw app Project Load Recent Action Save Before Action { String = load Recent private File Load Recent Action Application app File { super app this = put Value Action N A M E get Name } It Project project { Application app = get Application app set Enabled multiple Open Id = 1 for Project Project app projects { if Project != project Project get File != Project get File equals { multiple Open Id = Math max multiple Open Id Project get Multiple Open Id + 1 } } project set Multiple Open Id multiple Open Id project execute new Worker { Object construct { try { project read } catch Throwable { } } finished Object value { Opened project value } } } Opened Project project File Object value { Application app = get Application if value == { project set File project set Enabled Frame = Frame Swing Utilities get Window Ancestor project get Component if != { set Extended State get Extended State ~ Frame I C O N I F I E to Front } project get Component request Focus if app != { app set Enabled } } else { if value instanceof Throwable { Throwable value Stack Trace } J Sheet show Message Sheet project get Component <html> + U I Manager get String Option Pane css + <b> Couldn't open the \ +file+ \ </b><br> + value J Option Pane ERROR_MESSAGE new Sheet Listener { option Selected Sheet Event evt { } } } } } 