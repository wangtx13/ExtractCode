org jhotdraw geom import awt * import awt geom * import awt font * Grow Stroke Stroke { private float grow Grow Stroke float grow float miter Limit { super grow * 2 1f Basic Stroke CAP_SQUARE Basic Stroke JOIN_BEVEL miter Limit 0f this grow = grow } Shape create Stroked Shape Shape { Bezier Path bp = new Bezier Path General Path left = new General Path General Path right = new General Path coords = new 6 for Path Iterator = get Path Iterator 0 1d ! Done next { type = current Segment coords switch type { case Path Iterator SEG_MOVETO if bp size != 0 { trace Stroke bp left right } bp clear bp move To coords 0 coords 1 break case Path Iterator SEG_LINETO if coords 0 != bp get bp size - 1 0 || coords 1 != bp get bp size - 1 0 { bp line To coords 0 coords 1 } break case Path Iterator SEG_QUADTO bp quad To coords 0 coords 1 coords 2 coords 3 break case Path Iterator SEG_CUBICTO bp curve To coords 0 coords 1 coords 2 coords 3 coords 4 coords 5 break case Path Iterator SEG_CLOSE bp set Closed break } } if bp size > 1 { trace Stroke bp left right } if left get Bounds2 contains right get Bounds2 { grow > 0 ? left right } else { grow > 0 ? right left } } } 