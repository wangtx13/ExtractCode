org jhotdraw draw import org jhotdraw geom Geom import org jhotdraw util * import org jhotdraw undo * import awt * import awt geom * Round Rect Radius Handle Abstract Handle { private O F F S E T = 6 private Point original Arc Composite Edit edit Round Rect Radius Handle Figure owner { super owner } draw Graphics2 { draw Diamond Color yellow Color black } Rectangle basic Get Bounds { Rectangle = new Rectangle locate grow get Handlesize / 2 + 1 get Handlesize / 2 + 1 } private Point locate { Round Rectangle Figure owner = Round Rectangle Figure get Owner Rectangle = view drawing To View owner get Bounds Point arc = view drawing To View new Point2 owner get Arc Width owner get Arc Height new Point x+arc x/2+ O F F S E T y+arc y/2+ O F F S E T } track Start Point anchor modifiers Ex { view get Drawing fire Undoable Edit Happened edit = new Composite Edit Mehrfachaenderung Round Rectangle Figure owner = Round Rectangle Figure get Owner original Arc = view drawing To View new Point2 owner get Arc Width owner get Arc Height } track Step Point anchor Point modifiers Ex { dx = - anchor dy = - anchor Round Rectangle Figure owner = Round Rectangle Figure get Owner Rectangle = view drawing To View owner get Bounds Point view Arc = new Point Geom range 0 width 2* original Arc x/2 + dx Geom range 0 height 2* original Arc y/2 + dy Point2 arc = view view To Drawing view Arc owner set Arc arc arc } track End Point anchor Point modifiers Ex { view get Drawing fire Undoable Edit Happened edit } } 