org jhotdraw draw import org jhotdraw util * import awt * import awt geom * import util * import org jhotdraw geom * import org jhotdraw draw Attribute Keys * Vertical Layouter Abstract Layouter { Rectangle2 calculate Layout Composite Figure layoutable Point2 anchor Point2 { Insets2 layout Insets = LAYOUT_INSETS get layoutable if layout Insets == layout Insets = new Insets2 0 0 0 0 Rectangle2 layout Bounds = new Rectangle2 anchor anchor 0 0 for Figure child layoutable get Children { if child Visible { Dimension2 preferred Size = child get Preferred Size Insets2 ins = get Insets child layout Bounds width = Math max layout Bounds width preferred Size width + ins left + ins right layout Bounds height += preferred Size height + ins top + ins bottom } } layout Bounds width += layout Insets left + layout Insets right layout Bounds height += layout Insets top + layout Insets bottom layout Bounds } Rectangle2 layout Composite Figure layoutable Point2 anchor Point2 { Insets2 layout Insets = LAYOUT_INSETS get layoutable if layout Insets == layout Insets = new Insets2 0 0 0 0 Rectangle2 layout Bounds = calculate Layout layoutable anchor = layout Bounds + layout Insets top for Figure child layoutable get Children { if child Visible { Insets2 insets = get Insets child height = child get Preferred Size height child basic Set Bounds new Point2 layout Bounds + layout Insets left + insets left + insets top new Point2 layout Bounds + layout Bounds width - layout Insets right - insets right + insets top + height += height + insets top + insets bottom } } layout Bounds } } 