org jhotdraw draw action import javax swing swing utilities swing worker { 	private value 	private thread thread 	 	private thread var { 		private thread thread 		 thread var thread { thread = } 		synchronized thread get { thread } 		synchronized clear { thread = } 	} 	private thread var thread var 	 	public swing worker { 		final runnable finished = new runnable { 		 run { finished } 		} 		 runnable construct = new runnable { 			public run { 				try { 					set value construct 				} 				finally { 					thread var clear 				} 				 swing utilities later finished 			} 		} 		 thread = new thread construct swing worker 		thread var = new thread var 	} 	 	public construct 	 	public finished { 	} 	 	public get { 		while { 			 thread = thread var get 			if == { 				return get value 			} 			try { 				t join 			} 			catch interrupted { 				 thread current thread interrupt 				return 			} 		} 	} 	 	protected synchronized get value { 		return value 	} 	 	public interrupt { 		 thread = thread var get 		if != { 			t interrupt 		} 		thread var clear 	} 	 	private synchronized set value { 		value = 	} 	 	public start { 		 thread = thread var get 		if != { 			t start 		} 	} } 