org jhotdraw draw import awt * import awt event * selection tool tool implements tool listener { private tool tracker selection tool { tracker = create area tracker tracker add tool listener this } activate drawing editor editor { super activate editor tracker activate editor } deactivate drawing editor editor { super deactivate editor tracker deactivate editor } key pressed key event { tracker key pressed } key released key event evt { tracker key released evt } key typed key event evt { tracker key typed evt } mouse clicked mouse event evt { tracker mouse clicked evt } mouse dragged mouse event evt { tracker mouse dragged evt } mouse entered mouse event evt { super mouse entered evt tracker mouse entered evt } mouse exited mouse event evt { super mouse exited evt tracker mouse exited evt } mouse moved mouse event evt { tracker mouse moved evt } mouse released mouse event evt { tracker mouse released evt } draw graphics2 { tracker draw } mouse pressed mouse event evt { super mouse pressed evt drawing view view = get view handle handle = view find handle anchor tool new tracker = if handle != { new tracker = create handle tracker handle } else { figure figure = view find figure anchor if figure != { new tracker = create drag tracker figure } else { if ! evt shift down { view clear selection view set handle detail level 0 } new tracker = create area tracker } } if new tracker != { set tracker new tracker } tracker mouse pressed evt } set tracker tool new tracker { if tracker != { tracker deactivate get editor tracker remove tool listener this } tracker = new tracker if tracker != { tracker activate get editor tracker add tool listener this } } tool create handle tracker handle handle { new handle tracker handle get view get compatible handles handle } tool create drag tracker figure { new drag tracker } tool create area tracker { new select area tracker } tool started tool event event { } tool done tool event event { tool new tracker = create area tracker if new tracker != { if tracker != { tracker deactivate get editor tracker remove tool listener this } tracker = new tracker tracker activate get editor tracker add tool listener this } fire tool done } area invalidated tool event { fire area invalidated get invalidated area } } 