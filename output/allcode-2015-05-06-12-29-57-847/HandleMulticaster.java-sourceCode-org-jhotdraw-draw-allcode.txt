org jhotdraw draw import org jhotdraw util * import org jhotdraw undo * import awt * import awt event * import util * handle multicaster { linked list< handle> handles composite edit edit handle multicaster handle handle { this handles = new linked list< handle> this handles add handle } handle multicaster collection< handle> handles { this handles = new linked list< handle> handles } draw awt graphics2 { for handle handles { draw } } key pressed awt event key event { for handle handles { key pressed } } key released awt event key event { for handle handles { key released } } key typed awt event key event { for handle handles { key typed } } track point current point anchor modifiers drawing view view { for handle new reversed list< handle> handles { track current anchor modifiers } view get drawing fire undoable edit happened edit } track start point anchor modifiers drawing view view { view get drawing fire undoable edit happened edit = new composite edit for handle handles { track start anchor modifiers } } track click point modifiers drawing view view { for handle handles { track click modifiers } } track step point anchor point modifiers drawing view view { for handle handles { track step anchor modifiers } } } 