org jhotdraw geom import awt * import awt geom * import awt font * grow stroke stroke { private float grow grow stroke float grow float miter limit { super grow * 2 1f basic stroke CAP_SQUARE basic stroke JOIN_BEVEL miter limit 0f this grow = grow } shape create stroked shape shape { bezier path bp = new bezier path general path left = new general path general path right = new general path coords = new 6 for path iterator = get path iterator 0 1d ! done next { type = current segment coords switch type { case path iterator SEG_MOVETO if bp size != 0 { trace stroke bp left right } bp clear bp move to coords 0 coords 1 break case path iterator SEG_LINETO if coords 0 != bp get bp size - 1 0 || coords 1 != bp get bp size - 1 0 { bp line to coords 0 coords 1 } break case path iterator SEG_QUADTO bp quad to coords 0 coords 1 coords 2 coords 3 break case path iterator SEG_CUBICTO bp curve to coords 0 coords 1 coords 2 coords 3 coords 4 coords 5 break case path iterator SEG_CLOSE bp set closed break } } if bp size > 1 { trace stroke bp left right } if left get bounds2 contains right get bounds2 { grow > 0 ? left right } else { grow > 0 ? right left } } } 