org jhotdraw draw import com sun tools javac jvm gen import org jhotdraw util * import awt * import awt geom * import org jhotdraw draw attribute keys * import org jhotdraw geom * chop ellipse connector chop box connector { chop ellipse connector { } chop ellipse connector figure owner { super owner } private color get stroke color figure { color get attribute STROKE_COLOR } private float get stroke width figure { float = float get attribute STROKE_WIDTH == ? 1f float value } point2 chop figure target point2 from { target = get connector target target rectangle2 = target get bounds if get stroke color target != { grow switch STROKE_PLACEMENT get target { case default grow = get stroke total width target / 2d break case sid grow = get stroke total width target break case sid grow = 0f break } geom grow grow grow } angle = geom point to angle from geom oval angle to point angle } } 