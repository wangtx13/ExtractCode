org jhotdraw draw import awt * import awt geom * import util * move handle locator handle { private point2 old point private geometry move handle figure owner locator locator { super owner locator } add move handles figure collection< handle> handles { handles add south east handles add south west handles add north east handles add north west } draw graphics2 { draw rectangle color white color black } track start point anchor modifiers { old point = view get constrainer constrain point view view to drawing anchor } track step point anchor point modifiers { figure = get owner point2 new point = view get constrainer constrain point view view to drawing affine transform tx = new affine transform tx translate new point - old point new point - old point will change basic transform tx changed old point = new point } track point anchor point modifiers { affine transform tx = new affine transform tx translate - anchor - anchor fire undoable edit happened new transform edit get owner tx } handle south figure owner { new move handle owner relative locator south } handle south east figure owner { new move handle owner relative locator south east } handle south west figure owner { new move handle owner relative locator south west } handle north figure owner { new move handle owner relative locator north } handle north east figure owner { new move handle owner relative locator north east } handle north west figure owner { new move handle owner relative locator north west } handle east figure owner { new move handle owner relative locator east } handle west figure owner { new move handle owner relative locator west } } 