org jhotdraw samples svg figures import awt * import awt geom * import * import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * ellipse ellipse figure implements figure { ellipse { util set defaults this } @ write dom output out { rectangle2 = get bounds out add attribute cx + width / 2d out add attribute cy + height / 2d out add attribute rx width / 2 out add attribute ry height / 2 write attributes out } write attributes dom output out { util write attributes this out } @ read dom input { rx ry if get tag equals circle { rx = ry = util get dimension } else { rx = util get dimension rx ry = util get dimension ry } = util get dimension cx - rx = util get dimension cy - ry = rx * 2d = ry * 2d set bounds new point2 new point2 x+w y+h read attributes affine transform tx = util get transform transform basic transform tx } read attributes dom input { util read attributes this } empty { rectangle2 = get bounds width <= 0 || height <= 0 } } 