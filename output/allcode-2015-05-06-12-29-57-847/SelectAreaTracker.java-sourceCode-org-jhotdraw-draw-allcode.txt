org jhotdraw draw import awt event * import awt * import util * select area tracker tool { private rectangle rubber band = new rectangle select area tracker { } mouse pressed mouse event evt { super mouse pressed evt clear rubber band } mouse released mouse event evt { select group evt shift down clear rubber band } mouse dragged mouse event evt { rectangle invalidated area = rectangle rubber band clone rubber band set bounds math min anchor evt get math min anchor evt get math anchor - evt get math anchor - evt get if invalidated area empty { invalidated area = rectangle rubber band clone } else { invalidated area = invalidated area union rubber band } fire area invalidated invalidated area } mouse moved mouse event evt { clear rubber band update cursor editor find view container evt get source new point evt get evt get } private clear rubber band { if rubber band width > 0 { fire area invalidated rubber band rubber band width = 0 } } draw graphics2 { set stroke new basic stroke set color color black draw rect rubber band rubber band rubber band width - 1 rubber band height - 1 } private select group toggle { get view add to selection get view find figures within rubber band } } 