org jhotdraw draw import awt * import awt geom * closehandle close handle locatorhandle locator handle { private pressed closehandle close handle figure owner { super owner new relativelocator relative locator 1 0 0 0 } gethandlesize get handlesize { 9 } draw graphics2d graphics2 d g { drawrectangle draw rectangle g pressed ? color orange color white color black rectangle r = getbounds get bounds g drawline draw line r x r y r x+r width r y+r height g drawline draw line r x+r width r y r x r y+r height } cursor getcursor get cursor { cursor getdefaultcursor get default cursor } trackend track end point anchor point modifiersex modifiers ex { pressed = basicgetbounds basic get bounds contains if pressed getowner get owner requestremove request remove fireareainvalidated fire area invalidated getdrawbounds get draw bounds } trackstart track start point anchor modifiersex modifiers ex { pressed = fireareainvalidated fire area invalidated getdrawbounds get draw bounds } trackstep track step point anchor point modifiersex modifiers ex { oldvalue old value = pressed pressed = basicgetbounds basic get bounds contains if oldvalue old value != pressed fireareainvalidated fire area invalidated getdrawbounds get draw bounds } } 