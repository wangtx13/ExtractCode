org jhotdraw undo import javax swing undo * import util * compositeedit composite edit compoundedit compound edit { private presentationname presentation name private issignificant is significant private isverbose is verbose setverbose set verbose b { isverbose is verbose = b } compositeedit composite edit { issignificant is significant = } compositeedit composite edit issignificant is significant { this issignificant is significant = issignificant is significant } compositeedit composite edit presentationname presentation name { this presentationname presentation name = presentationname presentation name issignificant is significant = } compositeedit composite edit presentationname presentation name issignificant is significant { this presentationname presentation name = presentationname presentation name this issignificant is significant = issignificant is significant } getpresentationname get presentation name { presentationname presentation name != ? presentationname presentation name super getpresentationname get presentation name } getundopresentationname get undo presentation name { presentationname presentation name != ? undoredomanager undo redo manager getlabels get labels getstring get undo + +presentationname +presentation name super getundopresentationname get undo presentation name } getredopresentationname get redo presentation name { presentationname presentation name != ? undoredomanager undo redo manager getlabels get labels getstring get redo + +presentationname +presentation name super getredopresentationname get redo presentation name } addedit add edit undoableedit undoable edit anedit an edit { if anedit an edit == this { end } else if isinprogress is in progress anedit an edit instanceof compositeedit composite edit { } else { super addedit add edit anedit an edit } } issignificant is significant { issignificant is significant ? super issignificant is significant } setsignificant set significant newvalue new value { issignificant is significant = newvalue new value } } 