org jhotdraw draw action import org jhotdraw util * import javax swing * import util * import awt * import org jhotdraw draw * pickattributesaction pick attributes action abstractselectedaction selected action { private resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw draw labels locale getdefault get default pickattributesaction pick attributes action drawingeditor drawing editor editor { super editor labels configureaction configure action this attributespick attributes pick setenabled set enabled } actionperformed action performed awt event actionevent action event e { pickattributes pick attributes } pickattributes pick attributes { drawingeditor drawing editor editor = geteditor get editor collection<figure> collection< figure> selection = getview get view getselectedfigures get selected figures if selection size > 0 { figure figure = figure selection iterator next for map entry<attributekey entry< attribute key object> entry figure getattributes get attributes entryset entry set { if entry getkey get key != attributekeys attribute keys text t e x t { editor setdefaultattribute set default attribute entry getkey get key entry getvalue get value } } } } selectionchanged selection changed figureselectionevent figure selection event evt { setenabled set enabled getview get view getselectioncount get selection count == 1 } } 