org jhotdraw draw import awt * import awt geom * import org jhotdraw draw attributekeys attribute keys * import org jhotdraw geom * import org jhotdraw xml dominput dom input import org jhotdraw xml domoutput dom output relativelocator relative locator abstractlocator locator { relativex relative x relativey relative y relativelocator relative locator { relativex relative x = 0 0 relativey relative y = 0 0 } relativelocator relative locator relativex relative x relativey relative y { this relativex relative x = relativex relative x this relativey relative y = relativey relative y } awt geom point2d point2 d locate figure owner { rectangle2d rectangle2 d bounds = owner getbounds get bounds if owner getdecorator get decorator != { insets2ddouble insets2 d insets = DECORATOR_INSETS get owner if insets != { bounds x = insets left bounds y = insets top bounds width += insets left + insets right bounds height += insets top + insets bottom } } new point2d point2 d bounds x + bounds width * relativex relative x bounds y + bounds height * relativey relative y } locator east { new relativelocator relative locator 1 0 0 5 } locator north { new relativelocator relative locator 0 5 0 0 } locator west { new relativelocator relative locator 0 0 0 5 } locator northeast north east { new relativelocator relative locator 1 0 0 0 } locator northwest north west { new relativelocator relative locator 0 0 0 0 } locator south { new relativelocator relative locator 0 5 1 0 } locator southeast south east { new relativelocator relative locator 1 0 1 0 } locator southwest south west { new relativelocator relative locator 0 0 1 0 } locator center { new relativelocator relative locator 0 5 0 5 } write domoutput dom output out { out addattribute add attribute relativex relative x relativex relative x 0 5 out addattribute add attribute relativey relative y relativey relative y 0 5 } read dominput dom input in { relativex relative x = in getattribute get attribute relativex relative x 0 5 relativey relative y = in getattribute get attribute relativey relative y 0 5 } } 