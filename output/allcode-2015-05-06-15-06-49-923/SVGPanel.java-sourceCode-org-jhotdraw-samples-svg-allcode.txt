org jhotdraw samples svg import org jhotdraw samples svg action * import org jhotdraw samples svg figures * import org jhotdraw undo * import org jhotdraw util * import awt * import awt event * import util * import javax swing * import javax swing event * import org jhotdraw app action * import org jhotdraw draw * import org jhotdraw draw action * svgpanel s v g panel jpanel j panel { private undoredomanager undo redo manager undomanager undo manager private drawing drawing private drawingeditor drawing editor editor svgpanel s v g panel { resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw draw labels initcomponents init components undomanager undo manager = new undoredomanager undo redo manager editor = new defaultdrawingeditor default drawing editor editor add view addcreationbuttonsto add creation buttons to creationtoolbar creation toolbar editor toolbarbuttonfactory tool bar button factory addattributesbuttonsto add attributes buttons to attributestoolbar attributes toolbar editor jpopupbutton j popup button pb = new jpopupbutton j popup button pb setitemfont set item font uimanager u i manager getfont get font menuitem menu item font labels configuretoolbarbutton configure tool bar button pb actions pb add new duplicateaction duplicate action pb addseparator add separator pb add new groupaction group action editor pb add new ungroupaction ungroup action editor pb addseparator add separator pb add new movetofrontaction move to front action editor pb add new movetobackaction move to back action editor pb addseparator add separator pb add new cutaction cut action pb add new copyaction copy action pb add new pasteaction paste action pb add new selectallaction select all action pb add new selectsameaction select same action editor pb addseparator add separator pb add undomanager undo manager getundoaction get undo action pb add undomanager undo manager getredoaction get redo action pb addseparator add separator pb add new togglegridaction toggle grid action editor jmenu j menu m = new jmenu j menu labels getstring get zoom jradiobuttonmenuitem j radio button menu item rbmi buttongroup button group group = new buttongroup button group m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 0 1 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 0 25 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 0 5 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 0 75 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 1 0 rbmi setselected set selected group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 1 25 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 1 5 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 2 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 3 group add rbmi m add rbmi = new jradiobuttonmenuitem j radio button menu item new zoomaction zoom action editor 4 group add rbmi pb add m pb setfocusable set focusable creationtoolbar creation toolbar addseparator add separator creationtoolbar creation toolbar add pb defaultdrawing default drawing drawing = new defaultdrawing default drawing view setdrawing set drawing drawing drawing addundoableeditlistener add undoable edit listener undomanager undo manager } setdrawing set drawing drawing d { undomanager undo manager discardalledits discard all edits view getdrawing get drawing removeundoableeditlistener remove undoable edit listener undomanager undo manager view setdrawing set drawing d d addundoableeditlistener add undoable edit listener undomanager undo manager } drawing getdrawing get drawing { view getdrawing get drawing } drawingview drawing view getview get view { view } drawingeditor drawing editor geteditor get editor { editor } collection<action> collection< action> createselectionactions create selection actions drawingeditor drawing editor editor { linkedlist<action> linked list< action> a = new linkedlist<action> linked list< action> a add new duplicateaction duplicate action a add a add new groupaction group action editor new svggroup s v g group a add new ungroupaction ungroup action editor new svggroup s v g group a add new combineaction combine action editor a add new splitaction split action editor a add a add new movetofrontaction move to front action editor a add new movetobackaction move to back action editor a } private addcreationbuttonsto add creation buttons to jtoolbar j tool bar tb drawingeditor drawing editor editor { hashmap<attributekey hash map< attribute key object> attributes resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw samples svg labels resourcebundleutil resource bundle util drawlabels draw labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw draw labels toolbarbuttonfactory tool bar button factory addselectiontoolto add selection tool to tb editor toolbarbuttonfactory tool bar button factory createdrawingactions create drawing actions editor createselectionactions create selection actions editor tb addseparator add separator attributes = new hashmap<attributekey hash map< attribute key object> attributes put attributekeys attribute keys FILL_COLOR color white attributes put attributekeys attribute keys STROKE_COLOR color black toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new svgrect s v g rect attributes createrectangle create rectangle drawlabels draw labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new svgellipse s v g ellipse attributes createellipse create ellipse drawlabels draw labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new pathtool path tool new svgpath s v g path new bezierfigure bezier figure attributes createpolygon create polygon drawlabels draw labels attributes = new hashmap<attributekey hash map< attribute key object> attributes put attributekeys attribute keys FILL_COLOR attributes put attributekeys attribute keys STROKE_COLOR color black toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new svgline s v g line attributes createline create line drawlabels draw labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new pathtool path tool new svgpath s v g path new bezierfigure bezier figure attributes createscribble create scribble drawlabels draw labels attributes = new hashmap<attributekey hash map< attribute key object> attributes put attributekeys attribute keys FILL_COLOR color black attributes put attributekeys attribute keys STROKE_COLOR toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new svgtext s v g text attributes createtext create text drawlabels draw labels } private initcomponents init components { awt gridbagconstraints grid bag constraints gridbagconstraints grid bag constraints toolbuttongroup tool button group = new javax swing buttongroup button group scrollpane scroll pane = new javax swing jscrollpane j scroll pane view = new org jhotdraw draw defaultdrawingview default drawing view jpanel1 j panel1 = new javax swing jpanel j panel creationtoolbar creation toolbar = new javax swing jtoolbar j tool bar attributestoolbar attributes toolbar = new javax swing jtoolbar j tool bar setlayout set layout new awt borderlayout border layout scrollpane scroll pane setviewportview set viewport view view add scrollpane scroll pane awt borderlayout border layout center c e n t e r jpanel1 j panel1 setlayout set layout new awt gridbaglayout grid bag layout creationtoolbar creation toolbar setfloatable set floatable gridbagconstraints grid bag constraints = new awt gridbagconstraints grid bag constraints gridbagconstraints grid bag constraints gridx = 0 gridbagconstraints grid bag constraints gridy = 0 gridbagconstraints grid bag constraints anchor = awt gridbagconstraints grid bag constraints west w e s t jpanel1 j panel1 add creationtoolbar creation toolbar gridbagconstraints grid bag constraints attributestoolbar attributes toolbar setfloatable set floatable gridbagconstraints grid bag constraints = new awt gridbagconstraints grid bag constraints gridbagconstraints grid bag constraints gridx = 0 gridbagconstraints grid bag constraints gridy = 1 gridbagconstraints grid bag constraints anchor = awt gridbagconstraints grid bag constraints west w e s t jpanel1 j panel1 add attributestoolbar attributes toolbar gridbagconstraints grid bag constraints add jpanel1 j panel1 awt borderlayout border layout south s o u t h } private javax swing jtoolbar j tool bar attributestoolbar attributes toolbar private javax swing jtoolbar j tool bar creationtoolbar creation toolbar private javax swing jpanel j panel jpanel1 j panel1 private javax swing jscrollpane j scroll pane scrollpane scroll pane private javax swing buttongroup button group toolbuttongroup tool button group private org jhotdraw draw defaultdrawingview default drawing view view } 