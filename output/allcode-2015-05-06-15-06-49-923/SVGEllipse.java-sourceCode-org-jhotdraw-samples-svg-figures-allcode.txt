org jhotdraw samples svg figures import awt * import awt geom * import io * import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * svgellipse s v g ellipse ellipsefigure ellipse figure implements svgfigure s v g figure { svgellipse s v g ellipse { svgutil s v g util setdefaults set defaults this } @override @ override write domoutput dom output out ioexception i o { rectangle2d rectangle2 d r = getbounds get bounds out addattribute add attribute cx r x + r width / 2d out addattribute add attribute cy r y + r height / 2d out addattribute add attribute rx r width / 2 out addattribute add attribute ry r height / 2 writeattributes write attributes out } writeattributes write attributes domoutput dom output out ioexception i o { svgutil s v g util writeattributes write attributes this out } @override @ override read dominput dom input in ioexception i o { rx ry if in gettagname get tag name equals circle { rx = ry = svgutil s v g util getdimension get dimension in r } else { rx = svgutil s v g util getdimension get dimension in rx ry = svgutil s v g util getdimension get dimension in ry } x = svgutil s v g util getdimension get dimension in cx rx y = svgutil s v g util getdimension get dimension in cy ry w = rx * 2d h = ry * 2d setbounds set bounds new point2d point2 d x y new point2d point2 d x+w y+h readattributes read attributes in affinetransform affine transform tx = svgutil s v g util gettransform get transform in transform basictransform basic transform tx } readattributes read attributes dominput dom input in ioexception i o { svgutil s v g util readattributes read attributes this in } isempty is empty { rectangle2d rectangle2 d b = getbounds get bounds b width <= 0 || b height <= 0 } } 