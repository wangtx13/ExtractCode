org jhotdraw draw import javax swing * import awt * import awt geom * import awt event * floatingtextfield floating text field { private jtextfield j text field editwidget edit widget private drawingview drawing view view floatingtextfield floating text field { editwidget edit widget = new jtextfield j text field 20 } createoverlay create overlay drawingview drawing view view { createoverlay create overlay view } requestfocus request focus { editwidget edit widget requestfocus request focus } createoverlay create overlay drawingview drawing view view textholder text holder figure { view getcontainer get container add editwidget edit widget 0 font f = figure getfont get font f = f derivefont derive font f getstyle get style float f getsize get size * view getscalefactor get scale factor editwidget edit widget setfont set font f editwidget edit widget setforeground set foreground figure gettextcolor get text color editwidget edit widget setbackground set background figure getfillcolor get fill color this view = view } insets getinsets get insets { editwidget edit widget getinsets get insets } addactionlistener add action listener actionlistener action listener listener { editwidget edit widget addactionlistener add action listener listener } removeactionlistener remove action listener actionlistener action listener listener { editwidget edit widget removeactionlistener remove action listener listener } setbounds set bounds rectangle r text { editwidget edit widget settext set text text editwidget edit widget setbounds set bounds r x r y r width r height editwidget edit widget setvisible set visible editwidget edit widget selectall select all editwidget edit widget requestfocus request focus } gettext get text { editwidget edit widget gettext get text } dimension getpreferredsize get preferred size cols { editwidget edit widget setcolumns set columns cols editwidget edit widget getpreferredsize get preferred size } endoverlay end overlay { view getcontainer get container requestfocus request focus if editwidget edit widget != { editwidget edit widget setvisible set visible view getcontainer get container remove editwidget edit widget rectangle bounds = editwidget edit widget getbounds get bounds view getcontainer get container repaint bounds x bounds y bounds width bounds height } } } 