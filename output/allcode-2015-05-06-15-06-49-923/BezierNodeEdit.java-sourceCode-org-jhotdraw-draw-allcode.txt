org jhotdraw draw import org jhotdraw geom bezierpath bezier path import javax swing undo abstractundoableedit undoable edit import javax swing undo cannotredoexception cannot redo import javax swing undo cannotundoexception cannot undo import javax swing undo undoableedit undoable edit beziernodeedit bezier node edit abstractundoableedit undoable edit { private bezierfigure bezier figure owner private index private bezierpath bezier path node oldvalue old value private bezierpath bezier path node newvalue new value beziernodeedit bezier node edit bezierfigure bezier figure owner index bezierpath bezier path node oldvalue old value bezierpath bezier path node newvalue new value { this owner = owner this index = index this oldvalue old value = oldvalue old value this newvalue new value = newvalue new value } getpresentationname get presentation name { punkt verschieben } redo cannotredoexception cannot redo { super redo owner willchange will change owner basicsetnode basic set node index newvalue new value owner changed } undo cannotundoexception cannot undo { super undo owner willchange will change owner basicsetnode basic set node index oldvalue old value owner changed } addedit add edit undoableedit undoable edit anedit an edit { if anedit an edit instanceof beziernodeedit bezier node edit { beziernodeedit bezier node edit that = beziernodeedit bezier node edit anedit an edit if that owner == this owner that index == this index { this newvalue new value = that newvalue new value that die } } } replaceedit replace edit undoableedit undoable edit anedit an edit { if anedit an edit instanceof beziernodeedit bezier node edit { beziernodeedit bezier node edit that = beziernodeedit bezier node edit anedit an edit if that owner == this owner that index == this index { that oldvalue old value = this oldvalue old value this die } } } } 