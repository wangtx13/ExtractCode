org jhotdraw draw import io ioexception i o import org jhotdraw geom geom import org jhotdraw util * import awt * import awt geom * import org jhotdraw xml dominput dom input import org jhotdraw xml domoutput dom output stickychopconnector sticky chop connector chopboxconnector chop box connector { private float angle stickychopconnector sticky chop connector { } draw graphics2d graphics2 d g { g setcolor set color color blue g setstroke set stroke new basicstroke basic stroke g draw getbounds get bounds } setangle set angle float angle { this angle = angle } getangle get angle { angle } stickychopconnector sticky chop connector figure owner point2d point2 d p { super owner this angle = float geom pointtoangle point to angle owner getbounds get bounds p } updateanchor update anchor point2d point2 d p { this angle = float geom pointtoangle point to angle getowner get owner getbounds get bounds p } point2d point2 d getanchor get anchor { geom angletopoint angle to point getowner get owner getbounds get bounds angle } point2d point2 d chop figure target point2d point2 d from { geom angletopoint angle to point target getbounds get bounds angle } getparameters get { float tostring to float angle / math pi p i * 180 } read dominput dom input in ioexception i o { super read in angle = float in getattribute get attribute angle 0 0 } write domoutput dom output out ioexception i o { super write out out addattribute add attribute angle angle } } 