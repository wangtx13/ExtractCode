org jhotdraw app action import org jhotdraw util * import awt * import awt event * import javax swing * import javax swing text * import beans * import util * actions { SELECTED_KEY = selected SUBMENU_KEY = submenu BUTTON_GROUP_KEY = buttongroup button group private actions { } configurejcheckboxmenuitem configure j check box menu item jcheckboxmenuitem j check box menu item mi action a { mi setselected set selected a getvalue get value actions SELECTED_KEY propertychangelistener property change listener propertyhandler property handler = new propertychangelistener property change listener { propertychange property change propertychangeevent property change event evt { if evt getpropertyname get property name equals actions SELECTED_KEY { mi setselected set selected a getvalue get value actions SELECTED_KEY } } } a addpropertychangelistener add property change listener propertyhandler property handler mi putclientproperty put client property actionpropertyhandler action property handler propertyhandler property handler } unconfigurejcheckboxmenuitem unconfigure j check box menu item jcheckboxmenuitem j check box menu item mi action a { propertychangelistener property change listener propertyhandler property handler = propertychangelistener property change listener mi getclientproperty get client property actionpropertyhandler action property handler if propertyhandler property handler != { a removepropertychangelistener remove property change listener propertyhandler property handler mi putclientproperty put client property actionpropertyhandler action property handler } } } 