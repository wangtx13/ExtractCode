org jhotdraw draw import org jhotdraw util * import org jhotdraw undo * import awt * import awt event * import util * handlemulticaster handle multicaster { linkedlist<handle> linked list< handle> handles compositeedit composite edit edit handlemulticaster handle multicaster handle handle { this handles = new linkedlist<handle> linked list< handle> this handles add handle } handlemulticaster handle multicaster collection<handle> collection< handle> handles { this handles = new linkedlist<handle> linked list< handle> handles } draw awt graphics2d graphics2 d g { for handle h handles { h draw g } } keypressed key pressed awt event keyevent key event e { for handle h handles { h keypressed key pressed e } } keyreleased key released awt event keyevent key event e { for handle h handles { h keyreleased key released e } } keytyped key typed awt event keyevent key event e { for handle h handles { h keytyped key typed e } } trackend track end point current point anchor modifiersex modifiers ex drawingview drawing view view { for handle h new reversedlist<handle> reversed list< handle> handles { h trackend track end current anchor modifiersex modifiers ex } view getdrawing get drawing fireundoableedithappened fire undoable edit happened edit } trackstart track start point anchor modifiersex modifiers ex drawingview drawing view view { view getdrawing get drawing fireundoableedithappened fire undoable edit happened edit = new compositeedit composite edit for handle h handles { h trackstart track start anchor modifiersex modifiers ex } } trackdoubleclick track click point p modifiersex modifiers ex drawingview drawing view view { for handle h handles { h trackdoubleclick track click p modifiersex modifiers ex } } trackstep track step point anchor point modifiersex modifiers ex drawingview drawing view view { for handle h handles { h trackstep track step anchor modifiersex modifiers ex } } } 