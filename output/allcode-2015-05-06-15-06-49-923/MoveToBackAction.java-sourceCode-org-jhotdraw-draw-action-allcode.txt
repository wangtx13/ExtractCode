org jhotdraw draw action import org jhotdraw util * import javax swing * import util * import javax swing undo * import org jhotdraw draw * movetobackaction move to back action abstractselectedaction selected action { private resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw draw labels locale getdefault get default movetobackaction move to back action drawingeditor drawing editor editor { super editor labels configureaction configure action this movetoback move to back } actionperformed action performed awt event actionevent action event e { drawingview drawing view view = getview get view linkedlist<figure> linked list< figure> figures = new linkedlist<figure> linked list< figure> view getselectedfigures get selected figures sendtoback send to back view figures fireundoableedithappened fire undoable edit happened new abstractundoableedit undoable edit { getpresentationname get presentation name { labels getstring get movetoback move to back } redo cannotredoexception cannot redo { super redo movetobackaction move to back action sendtoback send to back view figures } undo cannotundoexception cannot undo { super undo movetofrontaction move to front action bringtofront bring to front view figures } } } sendtoback send to back drawingview drawing view view collection figures { iterator i = figures iterator drawing drawing = view getdrawing get drawing while i hasnext has next { figure figure = figure i next drawing sendtoback send to back figure } } } 