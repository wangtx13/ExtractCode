org jhotdraw samples pert figures import awt * import org jhotdraw samples * import beans * import org jhotdraw draw attributekeys attribute keys * import org jhotdraw draw * import org jhotdraw xml * dependencyfigure dependency figure lineconnectionfigure line connection figure { dependencyfigure dependency figure { STROKE_COLOR set this new color 0x000099 STROKE_WIDTH set this 1d END_DECORATION set this new arrowtip arrow tip setattributeenabled set attribute enabled END_DECORATION setattributeenabled set attribute enabled START_DECORATION setattributeenabled set attribute enabled STROKE_DASHES setattributeenabled set attribute enabled FONT_ITALIC setattributeenabled set attribute enabled FONT_UNDERLINED } canconnect can connect figure start figure end { if start instanceof taskfigure task figure end instanceof taskfigure task figure { taskfigure task figure sf = taskfigure task figure start taskfigure task figure ef = taskfigure task figure end if ef getpredecessors get predecessors contains sf { } ! sf isdependentof is dependent of ef } } canconnect can connect figure start { start instanceof taskfigure task figure } handledisconnect handle disconnect figure start figure end { taskfigure task figure sf = taskfigure task figure start taskfigure task figure ef = taskfigure task figure end sf removedependency remove dependency this ef removedependency remove dependency this } handleconnect handle connect figure start figure end { taskfigure task figure sf = taskfigure task figure start taskfigure task figure ef = taskfigure task figure end sf adddependency add dependency this ef adddependency add dependency this } dependencyfigure dependency figure clone { dependencyfigure dependency figure that = dependencyfigure dependency figure super clone that } getlayer get layer { 1 } @override @ override removenotify remove notify drawing d { if getstartfigure get start figure != { taskfigure task figure getstartfigure get start figure removedependency remove dependency this } if getendfigure get end figure != { taskfigure task figure getendfigure get end figure removedependency remove dependency this } super removenotify remove notify d } } 