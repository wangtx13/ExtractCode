org jhotdraw samples svg figures import awt geom * import io ioexception i o import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * svgrect s v g rect roundrectanglefigure round rectangle figure implements svgfigure s v g figure { svgrect s v g rect { svgutil s v g util setdefaults set defaults this } read dominput dom input in ioexception i o { x = svgutil s v g util getdimension get dimension in x y = svgutil s v g util getdimension get dimension in y w = svgutil s v g util getdimension get dimension in width h = svgutil s v g util getdimension get dimension in height setbounds set bounds new point2d point2 d x y new point2d point2 d x+w y+h setarc set arc svgutil s v g util getdimension get dimension in rx svgutil s v g util getdimension get dimension in ry readattributes read attributes in affinetransform affine transform tx = svgutil s v g util gettransform get transform in transform basictransform basic transform tx } readattributes read attributes dominput dom input in ioexception i o { svgutil s v g util readattributes read attributes this in } write domoutput dom output out ioexception i o { rectangle2d rectangle2 d r = getbounds get bounds out addattribute add attribute x r x out addattribute add attribute y r y out addattribute add attribute width r width out addattribute add attribute height r height out addattribute add attribute rx getarcwidth get arc width out addattribute add attribute ry getarcheight get arc height writeattributes write attributes out } writeattributes write attributes domoutput dom output out ioexception i o { svgutil s v g util writeattributes write attributes this out } isempty is empty { rectangle2d rectangle2 d b = getbounds get bounds b width <= 0 || b height <= 0 } } 