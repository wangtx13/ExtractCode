org jhotdraw app action import org jhotdraw util * import awt event actionevent action event import beans * import org jhotdraw app application clearrecentfilesaction clear recent files action abstractapplicationaction application action { = clearrecentfiles clear recent files private propertychangelistener property change listener applicationlistener application listener clearrecentfilesaction clear recent files action application app { super app resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw app labels labels configureaction configure action this clearmenu clear menu updateenabled update enabled } @override @ override installapplicationlisteners install application listeners application app { super installapplicationlisteners install application listeners app if applicationlistener application listener == { applicationlistener application listener = createapplicationlistener create application listener } app addpropertychangelistener add property change listener applicationlistener application listener } private propertychangelistener property change listener createapplicationlistener create application listener { new propertychangelistener property change listener { propertychange property change propertychangeevent property change event evt { if evt getpropertyname get property name == recentfiles recent files { updateenabled update enabled } } } } @override @ override uninstallapplicationlisteners uninstall application listeners application app { super uninstallapplicationlisteners uninstall application listeners app app removepropertychangelistener remove property change listener applicationlistener application listener } actionperformed action performed actionevent action event e { getapplication get application clearrecentfiles clear recent files } private updateenabled update enabled { setenabled set enabled getapplication get application recentfiles recent files size > 0 } } 