org jhotdraw draw import org jhotdraw undo compositeedit composite edit import awt * import awt geom * fontsizehandle font size handle locatorhandle locator handle { private float oldsize old size private compositeedit composite edit edit fontsizehandle font size handle textholder text holder owner { super owner new fontsizelocator font size locator } fontsizehandle font size handle textholder text holder owner locator locator { super owner locator } draw graphics2d graphics2 d g { drawdiamond draw diamond g color yellow color black } cursor getcursor get cursor { cursor getpredefinedcursor get predefined cursor cursor S_RESIZE_CURSOR } rectangle basicgetbounds basic get bounds { rectangle r = new rectangle getlocation get location r grow gethandlesize get handlesize / 2 + 1 gethandlesize get handlesize / 2 + 1 r } trackstart track start point anchor modifiersex modifiers ex { view getdrawing get drawing fireundoableedithappened fire undoable edit happened edit = new compositeedit composite edit schriftgr\u00f6sse textholder text holder textowner text owner = textholder text holder getowner get owner oldsize old size = textowner text owner getfontsize get font size } trackstep track step point anchor point modifiersex modifiers ex { textholder text holder textowner text owner = textholder text holder getowner get owner float newsize new size = float math max 1 oldsize old size + view viewtodrawing view to drawing new point 0 y anchor y y textowner text owner setfontsize set font size newsize new size } trackend track end point anchor point modifiersex modifiers ex { view getdrawing get drawing fireundoableedithappened fire undoable edit happened edit } } 