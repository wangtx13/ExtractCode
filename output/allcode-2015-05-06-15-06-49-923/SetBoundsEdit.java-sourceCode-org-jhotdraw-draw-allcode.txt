org jhotdraw draw import javax swing undo * import awt * import awt geom * setboundsedit set bounds edit abstractundoableedit undoable edit { private abstractfigure figure owner private point2d point2 d oldanchor old anchor oldlead old private point2d point2 d newanchor new anchor newlead new setboundsedit set bounds edit abstractfigure figure owner point2d point2 d oldanchor old anchor point2d point2 d oldlead old point2d point2 d newanchor new anchor point2d point2 d newlead new { this owner = owner this oldanchor old anchor = oldanchor old anchor this oldlead old = oldlead old this newanchor new anchor = newanchor new anchor this newlead new = newlead new } getpresentationname get presentation name { abmessungen \u00e4ndern } addedit add edit undoableedit undoable edit anedit an edit { if anedit an edit instanceof setboundsedit set bounds edit { setboundsedit set bounds edit that = setboundsedit set bounds edit anedit an edit if that owner == this owner { this newanchor new anchor = that newanchor new anchor this newlead new = that newlead new that die } } } replaceedit replace edit undoableedit undoable edit anedit an edit { if anedit an edit instanceof setboundsedit set bounds edit { setboundsedit set bounds edit that = setboundsedit set bounds edit anedit an edit if that owner == this owner { that oldanchor old anchor = this oldanchor old anchor that oldlead old = this oldlead old this die } } } redo cannotredoexception cannot redo { super redo owner willchange will change owner setbounds set bounds newanchor new anchor newlead new owner changed } undo cannotundoexception cannot undo { super undo owner willchange will change owner setbounds set bounds oldanchor old anchor oldlead old owner changed } } 