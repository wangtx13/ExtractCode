org jhotdraw samples draw import org jhotdraw util * import util * import javax swing * import org jhotdraw app * import org jhotdraw draw * import org jhotdraw draw action * import org jhotdraw draw attributekeys attribute keys * drawapplicationmodel draw application model defaultapplicationmodel default application model { private defaultdrawingeditor default drawing editor sharededitor shared editor drawapplicationmodel draw application model { } defaultdrawingeditor default drawing editor getsharededitor get shared editor { if sharededitor shared editor == { sharededitor shared editor = new defaultdrawingeditor default drawing editor } sharededitor shared editor } initproject init project application a project p { if a issharingtoolsamongprojects is sharing tools among projects { drawproject draw project p seteditor set editor getsharededitor get shared editor } } list<jtoolbar> list< j tool bar> createtoolbars create tool bars application a project pr { resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw draw labels drawproject draw project p = drawproject draw project pr drawingeditor drawing editor editor if p == { editor = getsharededitor get shared editor } else { editor = p geteditor get editor } linkedlist<jtoolbar> linked list< j tool bar> list = new linkedlist<jtoolbar> linked list< j tool bar> jtoolbar j tool bar tb tb = new jtoolbar j tool bar addcreationbuttonsto add creation buttons to tb editor tb setname set name labels getstring get drawtoolbartitle draw tool bar title list add tb tb = new jtoolbar j tool bar toolbarbuttonfactory tool bar button factory addattributesbuttonsto add attributes buttons to tb editor tb setname set name labels getstring get attributestoolbartitle attributes tool bar title list add tb tb = new jtoolbar j tool bar toolbarbuttonfactory tool bar button factory addalignmentbuttonsto add alignment buttons to tb editor tb setname set name labels getstring get alignmenttoolbartitle alignment tool bar title list add tb list } private addcreationbuttonsto add creation buttons to jtoolbar j tool bar tb drawingeditor drawing editor editor { adddefaultcreationbuttonsto add default creation buttons to tb editor toolbarbuttonfactory tool bar button factory createdrawingactions create drawing actions editor toolbarbuttonfactory tool bar button factory createselectionactions create selection actions editor } adddefaultcreationbuttonsto add default creation buttons to jtoolbar j tool bar tb drawingeditor drawing editor editor collection<action> collection< action> drawingactions drawing actions collection<action> collection< action> selectionactions selection actions { resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw draw labels toolbarbuttonfactory tool bar button factory addselectiontoolto add selection tool to tb editor drawingactions drawing actions selectionactions selection actions tb addseparator add separator attributedfigure attributed figure af creationtool creation tool ct connectiontool connection tool cnt connectionfigure connection figure lc toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new rectanglefigure rectangle figure createrectangle create rectangle labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new roundrectanglefigure round rectangle figure createroundrectangle create round rectangle labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new ellipsefigure ellipse figure createellipse create ellipse labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new diamondfigure diamond figure creatediamond create diamond labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new trianglefigure triangle figure createtriangle create triangle labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new creationtool creation tool new linefigure line figure createline create line labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor ct = new creationtool creation tool new linefigure line figure createarrow create arrow labels af = attributedfigure attributed figure ct getprototype get prototype af setattribute set attribute END_DECORATION new arrowtip arrow tip 0 35 12 11 3 toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new connectiontool connection tool new lineconnectionfigure line connection figure createlineconnection create line connection labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor cnt = new connectiontool connection tool new lineconnectionfigure line connection figure createelbowconnection create elbow connection labels lc = cnt getprototype get prototype lc setliner set liner new elbowliner elbow liner toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new beziertool bezier tool new bezierfigure bezier figure createscribble create scribble labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new beziertool bezier tool new bezierfigure bezier figure createpolygon create polygon labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new texttool text tool new textfigure text figure createtext create text labels toolbarbuttonfactory tool bar button factory addtoolto add tool to tb editor new textareatool text area tool new textareafigure text area figure createtextarea create text area labels } } 