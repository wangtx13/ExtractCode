org jhotdraw app action import awt * import awt event * import javax swing * import javax swing text * import beans * import util * import org jhotdraw util * import org jhotdraw app editablecomponent editable component deleteaction delete action textaction text action { = delete deleteaction delete action { super resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw app labels labels configureaction configure action this } actionperformed action performed actionevent action event evt { component focusowner focus owner = keyboardfocusmanager keyboard focus manager getcurrentkeyboardfocusmanager get current keyboard focus manager getpermanentfocusowner get permanent focus owner if focusowner focus owner != focusowner focus owner instanceof editablecomponent editable component { editablecomponent editable component focusowner focus owner delete } else { deletenextchar delete next char evt } } deletenextchar delete next char actionevent action event e { jtextcomponent j text component target = gettextcomponent get text component e beep = if target != target iseditable is editable { try { javax swing text document doc = target getdocument get document caret caret = target getcaret get caret dot = caret getdot get dot mark = caret getmark get mark if dot != mark { doc remove math min dot mark math abs dot mark beep = } else if dot < doc getlength get length { doc remove dot 1 beep = } } catch badlocationexception bad location bl {} } if beep { toolkit getdefaulttoolkit get default toolkit beep } } } 