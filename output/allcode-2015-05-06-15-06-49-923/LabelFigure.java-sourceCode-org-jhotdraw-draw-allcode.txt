org jhotdraw draw import awt * import awt font * import awt geom * import util * import io * labelfigure label figure textfigure text figure implements figurelistener figure listener { private textholder text holder target labelfigure label figure { this label } labelfigure label figure text { settext set text text seteditable set editable } setlabelfor set label for textholder text holder target { if this target != { this target removefigurelistener remove figure listener this } this target = target if this target != { this target addfigurelistener add figure listener this } } textholder text holder getlabelfor get label for { target == ? this target } tool gettool get tool point2d point2 d p { target != contains p ? new texttool text tool target } figureareainvalidated figure area invalidated figureevent figure event e { } figureattributechanged figure attribute changed figureevent figure event e { } figureadded figure added figureevent figure event e { } figurechanged figure changed figureevent figure event e { } figureremoved figure removed figureevent figure event e { if e getfigure get figure == target { target removefigurelistener remove figure listener this target = } } figurerequestremove figure request remove figureevent figure event e { } remap hashmap hash map oldtonew old to new { super remap oldtonew old to new if target != { figure newtarget new target = figure oldtonew old to new get target if newtarget new target != { target removefigurelistener remove figure listener this target = textholder text holder newtarget new target newtarget new target addfigurelistener add figure listener this } } } } 