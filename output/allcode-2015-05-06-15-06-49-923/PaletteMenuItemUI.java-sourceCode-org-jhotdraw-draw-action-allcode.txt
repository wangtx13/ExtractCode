org jhotdraw draw action import javax swing border * import javax swing plaf * import javax swing plaf basic * import javax swing * import javax swing event * import awt * import awt event * palettemenuitemui palette menu item u i javax swing plaf basic basicmenuitemui basic menu item u i { palettemenuitemui palette menu item u i { } installdefaults install defaults { super installdefaults install defaults defaulttexticongap default text icon gap = 0 arrowicon arrow icon = checkicon check icon = } dimension getpreferredmenuitemsize get preferred menu item size jcomponent j component c icon checkicon check icon icon arrowicon arrow icon defaulttexticongap default text icon gap { jmenuitem j menu item b = jmenuitem j menu item c icon icon = icon b geticon get icon if icon == { new dimension 22 22 } new dimension icon geticonwidth get icon width + 2 icon geticonheight get icon height + 2 } paint graphics g jcomponent j component c { jmenuitem j menu item b = jmenuitem j menu item c 	paintbackground 	paint background g b selectionbackground selection background icon icon = icon b geticon get icon if icon != { icon painticon paint icon b g 1 1 } } } 