org jhotdraw app action import beans * import awt event * import javax swing * import org jhotdraw app application abstractapplicationaction application action abstractaction action { private application app private propertychangelistener property change listener applicationlistener application listener abstractapplicationaction application action application app { this app = app installapplicationlisteners install application listeners app updateapplicationenabled update application enabled } installapplicationlisteners install application listeners application app { if applicationlistener application listener == { applicationlistener application listener = createapplicationlistener create application listener } app addpropertychangelistener add property change listener applicationlistener application listener } uninstallapplicationlisteners uninstall application listeners application app { app removepropertychangelistener remove property change listener applicationlistener application listener } private propertychangelistener property change listener createapplicationlistener create application listener { new propertychangelistener property change listener { propertychange property change propertychangeevent property change event evt { if evt getpropertyname get property name == enabled { updateapplicationenabled update application enabled } } } } application getapplication get application { app } updateapplicationenabled update application enabled { firepropertychange fire property change enabled valueof value of ! isenabled is enabled valueof value of isenabled is enabled } @override @ override isenabled is enabled { app isenabled is enabled enabled } @override @ override setenabled set enabled newvalue new value { oldvalue old value = this enabled this enabled = newvalue new value firepropertychange fire property change enabled valueof value of oldvalue old value app isenabled is enabled valueof value of newvalue new value app isenabled is enabled } } 