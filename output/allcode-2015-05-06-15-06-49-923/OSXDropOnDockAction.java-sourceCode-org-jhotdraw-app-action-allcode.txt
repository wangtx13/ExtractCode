org jhotdraw app action import org jhotdraw util * import net roydesign event * import awt * import awt event * import javax swing * import io * import org jhotdraw app application import org jhotdraw app project osxdropondockaction o s x drop on dock action abstractapplicationaction application action { = osxdrop private jfilechooser j chooser filechooser chooser private entries osxdropondockaction o s x drop on dock action application app { super app resourcebundleutil resource bundle util labels = resourcebundleutil resource bundle util getlafbundle get l a f bundle org jhotdraw app labels putvalue put value action name n a m e osx o s x drop on dock } actionperformed action performed actionevent action event evt { application app = getapplication get application if evt instanceof applicationevent application event { applicationevent application event ae = applicationevent application event evt project p = app createproject create project p setenabled set enabled app add p p execute new worker { construct { try { p read ae getfile get } catch ioexception i o e { e } } finished value { if value == { p setfile set ae getfile get p setenabled set enabled } else { app dispose p joptionpane j option pane showmessagedialog show message dialog <html> +uimanager + u i manager getstring get optionpane option pane css + <b>can't <b> can't open +ae getfile get + </b><p> + value joptionpane j option pane ERROR_MESSAGE } } } } } } 