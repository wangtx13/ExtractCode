org jhotdraw io import io * import javax swing * import javax swing filechooser * import util * extensionfilefilter extension filter javax swing filechooser filefilter filter { private description private hashset<string> hash set< string> extensions private defaultextension default extension extensionfilefilter extension filter description extension { this description = description this extensions = new hashset<string> hash set< string> extensions add extension tolowercase to lower case defaultextension default extension = extension } extensionfilefilter extension filter description extensions { this description = description this extensions = new hashset<string> hash set< string> extlc = new extensions length for i=0 i < extlc length i++ { extlc i = extensions i tolowercase to lower case } this extensions addall add all arrays aslist as list extlc defaultextension default extension = extensions 0 } set<string> set< string> getextensions get extensions { collections unmodifiableset unmodifiable set extensions } accept pathname { if pathname isdirectory is directory { } else { name = pathname getname get name p = name lastindexof last index of ' ' if p == 1 || p == name length 1 { extensions contains } else { extensions contains name substring p + 1 tolowercase to lower case } } } makeacceptable make acceptable pathname { if accept pathname { pathname } else { new pathname getpath get path +' '+defaultextension '+default extension } } getdescription get description { description } } 