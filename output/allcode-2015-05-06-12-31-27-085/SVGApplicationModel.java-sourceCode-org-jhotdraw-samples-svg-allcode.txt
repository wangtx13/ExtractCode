org jhotdraw samples svg import awt * import org jhotdraw app action * import org jhotdraw samples svg action * import org jhotdraw samples svg figures * import org jhotdraw util * import util * import javax swing * import org jhotdraw app * import org jhotdraw draw * import org jhotdraw draw action * import org jhotdraw draw AttributeKeys attribute keys * SVGApplicationModel application model DefaultApplicationModel default application model { private DefaultDrawingEditor default drawing editor sharedEditor shared editor SVGApplicationModel application model { } DefaultDrawingEditor default drawing editor getSharedEditor get shared editor { if sharedEditor shared editor == { sharedEditor shared editor = new DefaultDrawingEditor default drawing editor } sharedEditor shared editor } initProject init project application project { if isSharingToolsAmongProjects sharing tools among projects { SVGProject project setEditor set editor getSharedEditor get shared editor } } util List<JToolBar> list< tool bar> createToolBars create tool bars application project { ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels SVGProject project = SVGProject project DrawingEditor drawing editor editor if == { editor = getSharedEditor get shared editor } else { editor = getEditor get editor } LinkedList<JToolBar> linked list< tool bar> list = new LinkedList<JToolBar> linked list< tool bar> JToolBar tool bar tb tb = new JToolBar tool bar addCreationButtonsTo add creation buttons to tb editor tb setName set labels getString get drawToolBarTitle draw tool bar title list add tb tb = new JToolBar tool bar addAttributesButtonsTo add attributes buttons to tb editor tb setName set labels getString get attributesToolBarTitle attributes tool bar title list add tb tb = new JToolBar tool bar ToolBarButtonFactory tool bar button factory addAlignmentButtonsTo add alignment buttons to tb editor tb setName set labels getString get alignmentToolBarTitle alignment tool bar title list add tb list } Collection<Action> collection< action> createDrawingActions create drawing actions DrawingEditor drawing editor editor { LinkedList<Action> linked list< action> = new LinkedList<Action> linked list< action> add new CutAction cut action add new CopyAction copy action add new PasteAction paste action add new SelectAllAction select all action add new SelectSameAction select same action editor } Collection<Action> collection< action> createSelectionActions create selection actions DrawingEditor drawing editor editor { LinkedList<Action> linked list< action> = new LinkedList<Action> linked list< action> add new DuplicateAction duplicate action add add new GroupAction group action editor new SVGGroup group add new UngroupAction ungroup action editor new SVGGroup group add new CombineAction combine action editor add new SplitAction split action editor add add new MoveToFrontAction move to front action editor add new MoveToBackAction move to back action editor } private addCreationButtonsTo add creation buttons to JToolBar tool bar tb DrawingEditor drawing editor editor { HashMap<AttributeKey hash map< attribute key object> attributes ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw samples svg labels ResourceBundleUtil resource bundle util drawLabels draw labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels ToolBarButtonFactory tool bar button factory addSelectionToolTo add selection tool to tb editor createDrawingActions create drawing actions editor createSelectionActions create selection actions editor tb addSeparator add separator attributes = new HashMap<AttributeKey hash map< attribute key object> attributes put AttributeKeys attribute keys FILL_COLOR color white attributes put AttributeKeys attribute keys STROKE_COLOR color black ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new SVGRect rect attributes createRectangle create rectangle drawLabels draw labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new SVGEllipse ellipse attributes createEllipse create ellipse drawLabels draw labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new PathTool path tool new SVGPath path new BezierFigure bezier figure attributes createPolygon create polygon drawLabels draw labels attributes = new HashMap<AttributeKey hash map< attribute key object> attributes put AttributeKeys attribute keys FILL_COLOR attributes put AttributeKeys attribute keys STROKE_COLOR color black ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new SVGLine line attributes createLine create line drawLabels draw labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new PathTool path tool new SVGPath path new BezierFigure bezier figure attributes createScribble create scribble drawLabels draw labels attributes = new HashMap<AttributeKey hash map< attribute key object> attributes put AttributeKeys attribute keys FILL_COLOR color black attributes put AttributeKeys attribute keys STROKE_COLOR ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new SVGText text attributes createText create text drawLabels draw labels } private addAttributesButtonsTo add attributes buttons to JToolBar tool bar bar DrawingEditor drawing editor editor { ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels JButton button = bar add new PickAttributesAction pick attributes action editor setFocusable set focusable = bar add new ApplyAttributesAction apply attributes action editor setFocusable set focusable bar addSeparator add separator addColorButtonsTo add color buttons to bar editor bar addSeparator add separator addStrokeButtonsTo add stroke buttons to bar editor bar addSeparator add separator ToolBarButtonFactory tool bar button factory addFontButtonsTo add font buttons to bar editor } private addColorButtonsTo add color buttons to JToolBar tool bar bar DrawingEditor drawing editor editor { ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels ToolBarButtonFactory tool bar button factory addColorButtonTo add color button to bar editor STROKE_COLOR ToolBarButtonFactory tool bar button factory DEFAULT_COLORS 8 attributeStrokeColor attribute stroke color labels ToolBarButtonFactory tool bar button factory addColorButtonTo add color button to bar editor FILL_COLOR ToolBarButtonFactory tool bar button factory DEFAULT_COLORS 8 attributeFillColor attribute fill color labels } private addStrokeButtonsTo add stroke buttons to JToolBar tool bar bar DrawingEditor drawing editor editor { ToolBarButtonFactory tool bar button factory addStrokeWidthButtonTo add stroke width button to bar editor ToolBarButtonFactory tool bar button factory addStrokeDashesButtonTo add stroke dashes button to bar editor } } 