org jhotdraw draw action import awt * import awt color * import awt event * import util * import javax swing * import net * import org jhotdraw draw * import org jhotdraw geom * ColorAttributeIcon color attribute icon javax swing ImageIcon image icon { private DrawingEditor drawing editor editor AttributeKey<Color> attribute key< color> key private rectangle colorRect color rect = new rectangle 1 17 20 4 ColorAttributeIcon color attribute icon DrawingEditor drawing editor editor AttributeKey<Color> attribute key< color> key URL imageLocation image location { super imageLocation image location this editor = editor this key = key } ColorAttributeIcon color attribute icon DrawingEditor drawing editor editor AttributeKey<Color> attribute key< color> key image image { super image this editor = editor this key = key } paintIcon paint icon awt component awt graphics gr { Graphics2D graphics2 = Graphics2D graphics2 gr super paintIcon paint icon color color = color editor getDefaultAttribute get default attribute key if color == { } else { setColor set color color translate fill colorRect color rect translate -x -y } } } 