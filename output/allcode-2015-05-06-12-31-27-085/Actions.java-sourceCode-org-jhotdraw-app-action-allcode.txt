org jhotdraw app action import org jhotdraw util * import awt * import awt event * import javax swing * import javax swing text * import beans * import util * actions { SELECTED_KEY = selected SUBMENU_KEY = submenu BUTTON_GROUP_KEY = buttonGroup button group private actions { } configureJCheckBoxMenuItem configure check box menu item JCheckBoxMenuItem check box menu item mi action { mi setSelected set selected getValue get value actions SELECTED_KEY PropertyChangeListener property change listener propertyHandler property handler = new PropertyChangeListener property change listener { propertyChange property change PropertyChangeEvent property change event evt { if evt getPropertyName get property equals actions SELECTED_KEY { mi setSelected set selected getValue get value actions SELECTED_KEY } } } addPropertyChangeListener add property change listener propertyHandler property handler mi putClientProperty put client property actionPropertyHandler action property handler propertyHandler property handler } unconfigureJCheckBoxMenuItem unconfigure check box menu item JCheckBoxMenuItem check box menu item mi action { PropertyChangeListener property change listener propertyHandler property handler = PropertyChangeListener property change listener mi getClientProperty get client property actionPropertyHandler action property handler if propertyHandler property handler != { removePropertyChangeListener remove property change listener propertyHandler property handler mi putClientProperty put client property actionPropertyHandler action property handler } } } 