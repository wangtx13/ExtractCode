org jhotdraw samples draw import org jhotdraw draw AttributeKeys attribute keys * import org jhotdraw undo * import org jhotdraw util * import awt * import awt event * import util * import javax swing * import javax swing event * import org jhotdraw app action CopyAction copy action import org jhotdraw app action CutAction cut action import org jhotdraw app action DuplicateAction duplicate action import org jhotdraw app action PasteAction paste action import org jhotdraw app action SelectAllAction select all action import org jhotdraw draw * import org jhotdraw draw action * DrawingPanel drawing panel JPanel panel { private UndoRedoManager undo redo manager undoManager undo manager private drawing drawing private DrawingEditor drawing editor editor DrawingPanel drawing panel { ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels initComponents init components undoManager undo manager = new UndoRedoManager undo redo manager editor = new DefaultDrawingEditor default drawing editor editor add view addCreationButtonsTo add creation buttons to creationToolbar creation toolbar editor ToolBarButtonFactory tool bar button factory addAttributesButtonsTo add attributes buttons to attributesToolbar attributes toolbar editor JPopupButton popup button pb = new JPopupButton popup button pb setItemFont set item font UIManager manager getFont get font MenuItem menu item font labels configureToolBarButton configure tool bar button pb actions pb add new DuplicateAction duplicate action pb addSeparator add separator pb add new GroupAction group action editor pb add new UngroupAction ungroup action editor pb addSeparator add separator pb add new MoveToFrontAction move to front action editor pb add new MoveToBackAction move to back action editor pb addSeparator add separator pb add new CutAction cut action pb add new CopyAction copy action pb add new PasteAction paste action pb add new SelectAllAction select all action pb add new SelectSameAction select same action editor pb addSeparator add separator pb add undoManager undo manager getUndoAction get undo action pb add undoManager undo manager getRedoAction get redo action pb addSeparator add separator pb add new ToggleGridAction toggle grid action editor JMenu menu = new JMenu menu labels getString get zoom JRadioButtonMenuItem radio button menu item rbmi ButtonGroup button group group = new ButtonGroup button group add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 0 1 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 0 25 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 0 5 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 0 75 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 1 0 rbmi setSelected set selected group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 1 25 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 1 5 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 2 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 3 group add rbmi add rbmi = new JRadioButtonMenuItem radio button menu item new ZoomAction zoom action editor 4 group add rbmi pb add pb setFocusable set focusable creationToolbar creation toolbar addSeparator add separator creationToolbar creation toolbar add pb DefaultDrawing default drawing drawing = new DefaultDrawing default drawing view setDrawing set drawing drawing drawing addUndoableEditListener add undoable edit listener undoManager undo manager } setDrawing set drawing drawing { undoManager undo manager discardAllEdits discard all edits view getDrawing get drawing removeUndoableEditListener remove undoable edit listener undoManager undo manager view setDrawing set drawing addUndoableEditListener add undoable edit listener undoManager undo manager } drawing getDrawing get drawing { view getDrawing get drawing } DrawingView drawing view getView get view { view } DrawingEditor drawing editor getEditor get editor { editor } private initComponents init components { awt GridBagConstraints grid bag constraints gridBagConstraints grid bag constraints toolButtonGroup tool button group = new javax swing ButtonGroup button group scrollPane scroll pane = new javax swing JScrollPane scroll pane view = new org jhotdraw draw DefaultDrawingView default drawing view jPanel1 panel1 = new javax swing JPanel panel creationToolbar creation toolbar = new javax swing JToolBar tool bar attributesToolbar attributes toolbar = new javax swing JToolBar tool bar setLayout set layout new awt BorderLayout border layout scrollPane scroll pane setViewportView set viewport view view add scrollPane scroll pane awt BorderLayout border layout CENTER jPanel1 panel1 setLayout set layout new awt GridBagLayout grid bag layout creationToolbar creation toolbar setFloatable set floatable gridBagConstraints grid bag constraints = new awt GridBagConstraints grid bag constraints gridBagConstraints grid bag constraints gridx = 0 gridBagConstraints grid bag constraints gridy = 0 gridBagConstraints grid bag constraints anchor = awt GridBagConstraints grid bag constraints WEST jPanel1 panel1 add creationToolbar creation toolbar gridBagConstraints grid bag constraints attributesToolbar attributes toolbar setFloatable set floatable gridBagConstraints grid bag constraints = new awt GridBagConstraints grid bag constraints gridBagConstraints grid bag constraints gridx = 0 gridBagConstraints grid bag constraints gridy = 1 gridBagConstraints grid bag constraints anchor = awt GridBagConstraints grid bag constraints WEST jPanel1 panel1 add attributesToolbar attributes toolbar gridBagConstraints grid bag constraints add jPanel1 panel1 awt BorderLayout border layout SOUTH } private addCreationButtonsTo add creation buttons to JToolBar tool bar tb DrawingEditor drawing editor editor { addDefaultCreationButtonsTo add default creation buttons to tb editor ToolBarButtonFactory tool bar button factory createDrawingActions create drawing actions editor ToolBarButtonFactory tool bar button factory createSelectionActions create selection actions editor } addDefaultCreationButtonsTo add default creation buttons to JToolBar tool bar tb DrawingEditor drawing editor editor Collection<Action> collection< action> drawingActions drawing actions Collection<Action> collection< action> selectionActions selection actions { ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels ToolBarButtonFactory tool bar button factory addSelectionToolTo add selection tool to tb editor drawingActions drawing actions selectionActions selection actions tb addSeparator add separator AttributedFigure attributed figure af CreationTool creation tool ConnectionTool connection tool cnt ConnectionFigure connection figure lc ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new RectangleFigure rectangle figure createRectangle create rectangle labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new RoundRectangleFigure round rectangle figure createRoundRectangle create round rectangle labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new EllipseFigure ellipse figure createEllipse create ellipse labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new DiamondFigure diamond figure createDiamond create diamond labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new TriangleFigure triangle figure createTriangle create triangle labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new CreationTool creation tool new LineFigure line figure createLine create line labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor = new CreationTool creation tool new LineFigure line figure createArrow create arrow labels af = AttributedFigure attributed figure getPrototype get prototype af setAttribute set attribute END_DECORATION new ArrowTip arrow tip 0 35 12 11 3 ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new ConnectionTool connection tool new LineConnectionFigure line connection figure createLineConnection create line connection labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor cnt = new ConnectionTool connection tool new LineConnectionFigure line connection figure createElbowConnection create elbow connection labels lc = cnt getPrototype get prototype lc setLiner set liner new ElbowLiner elbow liner ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new BezierTool bezier tool new BezierFigure bezier figure createScribble create scribble labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new BezierTool bezier tool new BezierFigure bezier figure createPolygon create polygon labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new TextTool text tool new TextFigure text figure createText create text labels ToolBarButtonFactory tool bar button factory addToolTo add tool to tb editor new TextAreaTool text area tool new TextAreaFigure text area figure createTextArea create text area labels } private javax swing JToolBar tool bar attributesToolbar attributes toolbar private javax swing JToolBar tool bar creationToolbar creation toolbar private javax swing JPanel panel jPanel1 panel1 private javax swing JScrollPane scroll pane scrollPane scroll pane private javax swing ButtonGroup button group toolButtonGroup tool button group private org jhotdraw draw DefaultDrawingView default drawing view view } 