org jhotdraw draw import IOException import org jhotdraw geom geom import org jhotdraw util * import awt * import awt geom * import org jhotdraw xml DOMInput dom input import org jhotdraw xml DOMOutput dom output StickyChopConnector sticky chop connector ChopBoxConnector chop box connector { private float angle StickyChopConnector sticky chop connector { } draw Graphics2D graphics2 { setColor set color color blue setStroke set stroke new BasicStroke basic stroke draw getBounds get bounds } setAngle set angle float angle { this angle = angle } getAngle get angle { angle } StickyChopConnector sticky chop connector figure owner Point2D point2 { super owner this angle = float geom pointToAngle point to angle owner getBounds get bounds } updateAnchor update anchor Point2D point2 { this angle = float geom pointToAngle point to angle getOwner get owner getBounds get bounds } Point2D point2 getAnchor get anchor { geom angleToPoint angle to point getOwner get owner getBounds get bounds angle } Point2D point2 chop figure target Point2D point2 from { geom angleToPoint angle to point target getBounds get bounds angle } getParameters get { float toString to float angle / math PI * 180 } read DOMInput dom input IOException { super read angle = float getAttribute get attribute angle 0 0 } write DOMOutput dom output out IOException { super write out out addAttribute add attribute angle angle } } 