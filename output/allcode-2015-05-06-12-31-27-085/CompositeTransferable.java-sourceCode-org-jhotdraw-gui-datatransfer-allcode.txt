org jhotdraw gui datatransfer import awt datatransfer * import util * import * CompositeTransferable composite transferable implements transferable ClipboardOwner clipboard owner { private HashMap hash map transferables = new HashMap hash map private LinkedList linked list flavors = new LinkedList linked list CompositeTransferable composite transferable { } add transferable { DataFlavor data flavor = getTransferDataFlavors get transfer data flavors for i=0 < length i++ { if ! transferables containsKey contains key flavors add transferables put } } getTransferData get transfer data DataFlavor data flavor flavor UnsupportedFlavorException unsupported flavor IOException { transferable = transferable transferables get flavor if == new UnsupportedFlavorException unsupported flavor flavor getTransferData get transfer data flavor } DataFlavor data flavor getTransferDataFlavors get transfer data flavors { DataFlavor data flavor flavors toArray to new DataFlavor data flavor transferables size } isDataFlavorSupported data flavor supported DataFlavor data flavor flavor { transferables containsKey contains key flavor } lostOwnership lost ownership clipboard clipboard transferable contents { } } 