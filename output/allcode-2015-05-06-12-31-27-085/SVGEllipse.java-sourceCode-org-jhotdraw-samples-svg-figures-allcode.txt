org jhotdraw samples svg figures import awt * import awt geom * import * import org jhotdraw draw * import org jhotdraw samples svg * import org jhotdraw xml * SVGEllipse ellipse EllipseFigure ellipse figure implements SVGFigure figure { SVGEllipse ellipse { SVGUtil util setDefaults set defaults this } @Override @ write DOMOutput dom output out IOException { Rectangle2D rectangle2 = getBounds get bounds out addAttribute add attribute cx + width / 2d out addAttribute add attribute cy + height / 2d out addAttribute add attribute rx width / 2 out addAttribute add attribute ry height / 2 writeAttributes write attributes out } writeAttributes write attributes DOMOutput dom output out IOException { SVGUtil util writeAttributes write attributes this out } @Override @ read DOMInput dom input IOException { rx ry if getTagName get tag equals circle { rx = ry = SVGUtil util getDimension get dimension } else { rx = SVGUtil util getDimension get dimension rx ry = SVGUtil util getDimension get dimension ry } = SVGUtil util getDimension get dimension cx - rx = SVGUtil util getDimension get dimension cy - ry = rx * 2d = ry * 2d setBounds set bounds new Point2D point2 new Point2D point2 x+w y+h readAttributes read attributes AffineTransform affine transform tx = SVGUtil util getTransform get transform transform basicTransform basic transform tx } readAttributes read attributes DOMInput dom input IOException { SVGUtil util readAttributes read attributes this } isEmpty empty { Rectangle2D rectangle2 = getBounds get bounds width <= 0 || height <= 0 } } 