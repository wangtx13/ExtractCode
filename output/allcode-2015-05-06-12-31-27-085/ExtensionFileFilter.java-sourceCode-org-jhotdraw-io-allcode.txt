org jhotdraw import * import javax swing * import javax swing filechooser * import util * ExtensionFileFilter extension filter javax swing filechooser FileFilter filter { private description private HashSet<String> hash set< string> extensions private defaultExtension default extension ExtensionFileFilter extension filter description extension { this description = description this extensions = new HashSet<String> hash set< string> extensions add extension toLowerCase to lower case defaultExtension default extension = extension } ExtensionFileFilter extension filter description extensions { this description = description this extensions = new HashSet<String> hash set< string> extlc = new extensions length for i=0 < extlc length i++ { extlc = extensions toLowerCase to lower case } this extensions addAll add all arrays asList list extlc defaultExtension default extension = extensions 0 } Set<String> set< string> getExtensions get extensions { collections unmodifiableSet unmodifiable set extensions } accept pathname { if pathname isDirectory directory { } else { = pathname getName get = lastIndexOf last index of ' ' if == -1 || == length - 1 { extensions contains } else { extensions contains substring + 1 toLowerCase to lower case } } } makeAcceptable make acceptable pathname { if accept pathname { pathname } else { new pathname getPath get path +' '+defaultExtension '+default extension } } getDescription get description { description } } 