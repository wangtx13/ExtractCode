org jhotdraw draw import org jhotdraw undo CompositeEdit composite edit import awt * import awt geom * FontSizeHandle font size handle LocatorHandle locator handle { private float oldSize old size private CompositeEdit composite edit edit FontSizeHandle font size handle TextHolder text holder owner { super owner new FontSizeLocator font size locator } FontSizeHandle font size handle TextHolder text holder owner locator locator { super owner locator } draw Graphics2D graphics2 { drawDiamond draw diamond color yellow color black } cursor getCursor get cursor { cursor getPredefinedCursor get predefined cursor cursor S_RESIZE_CURSOR } rectangle basicGetBounds basic get bounds { rectangle = new rectangle getLocation get location grow getHandlesize get handlesize / 2 + 1 getHandlesize get handlesize / 2 + 1 } trackStart track start point anchor modifiersEx modifiers { view getDrawing get drawing fireUndoableEditHappened fire undoable edit happened edit = new CompositeEdit composite edit schriftgr\u00f6sse TextHolder text holder textOwner text owner = TextHolder text holder getOwner get owner oldSize old size = textOwner text owner getFontSize get font size } trackStep track step point anchor point modifiersEx modifiers { TextHolder text holder textOwner text owner = TextHolder text holder getOwner get owner float newSize new size = float math max 1 oldSize old size + view viewToDrawing view to drawing new point 0 - anchor textOwner text owner setFontSize set font size newSize new size } trackEnd track point anchor point modifiersEx modifiers { view getDrawing get drawing fireUndoableEditHappened fire undoable edit happened edit } } 