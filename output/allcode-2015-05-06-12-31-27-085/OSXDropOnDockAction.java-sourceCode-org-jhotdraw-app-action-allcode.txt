org jhotdraw app action import org jhotdraw util * import net roydesign event * import awt * import awt event * import javax swing * import * import org jhotdraw app application import org jhotdraw app project OSXDropOnDockAction drop dock action AbstractApplicationAction application action { = osxdrop private JFileChooser chooser fileChooser chooser private entries OSXDropOnDockAction drop dock action application app { super app ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw app labels putValue put value action NAME OSX drop dock } actionPerformed action performed ActionEvent action event evt { application app = getApplication get application if evt instanceof ApplicationEvent application event { ApplicationEvent application event ae = ApplicationEvent application event evt project = app createProject create project setEnabled set enabled app add execute new worker { construct { try { read ae getFile get } catch IOException { } } finished value { if value == { setFile set ae getFile get setEnabled set enabled } else { app dispose JOptionPane option pane showMessageDialog show message dialog <html> +UIManager + manager getString get OptionPane option pane css + <b>Can't <b> can't open +ae getFile get + </b><p> + value JOptionPane option pane ERROR_MESSAGE } } } } } } 