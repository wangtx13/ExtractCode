org jhotdraw draw action import org jhotdraw util * import javax swing * import util * import javax swing undo * import org jhotdraw draw * MoveToBackAction move to back action AbstractSelectedAction selected action { private ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw draw labels locale getDefault get default MoveToBackAction move to back action DrawingEditor drawing editor editor { super editor labels configureAction configure action this moveToBack move to back } actionPerformed action performed awt event ActionEvent action event { DrawingView drawing view view = getView get view LinkedList<Figure> linked list< figure> figures = new LinkedList<Figure> linked list< figure> view getSelectedFigures get selected figures sendToBack send to back view figures fireUndoableEditHappened fire undoable edit happened new AbstractUndoableEdit undoable edit { getPresentationName get presentation { labels getString get moveToBack move to back } redo CannotRedoException cannot redo { super redo MoveToBackAction move to back action sendToBack send to back view figures } undo CannotUndoException cannot undo { super undo MoveToFrontAction move to front action bringToFront bring to front view figures } } } sendToBack send to back DrawingView drawing view view collection figures { iterator = figures iterator drawing drawing = view getDrawing get drawing while hasNext has next { figure figure = figure next drawing sendToBack send to back figure } } } 