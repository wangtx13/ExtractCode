org jhotdraw draw import awt * import awt geom * import util * MoveHandle move handle LocatorHandle locator handle { private Point2D point2 oldPoint old point private geometry MoveHandle move handle figure owner locator locator { super owner locator } addMoveHandles add move handles figure Collection<Handle> collection< handle> handles { handles add southEast south east handles add southWest south west handles add northEast north east handles add northWest north west } draw Graphics2D graphics2 { drawRectangle draw rectangle color white color black } trackStart track start point anchor modifiersEx modifiers { oldPoint old point = view getConstrainer get constrainer constrainPoint constrain point view viewToDrawing view to drawing anchor } trackStep track step point anchor point modifiersEx modifiers { figure = getOwner get owner Point2D point2 newPoint new point = view getConstrainer get constrainer constrainPoint constrain point view viewToDrawing view to drawing AffineTransform affine transform tx = new AffineTransform affine transform tx translate newPoint new point - oldPoint old point newPoint new point - oldPoint old point willChange will change basicTransform basic transform tx changed oldPoint old point = newPoint new point } trackEnd track point anchor point modifiersEx modifiers { AffineTransform affine transform tx = new AffineTransform affine transform tx translate - anchor - anchor fireUndoableEditHappened fire undoable edit happened new TransformEdit transform edit getOwner get owner tx } handle south figure owner { new MoveHandle move handle owner RelativeLocator relative locator south } handle southEast south east figure owner { new MoveHandle move handle owner RelativeLocator relative locator southEast south east } handle southWest south west figure owner { new MoveHandle move handle owner RelativeLocator relative locator southWest south west } handle north figure owner { new MoveHandle move handle owner RelativeLocator relative locator north } handle northEast north east figure owner { new MoveHandle move handle owner RelativeLocator relative locator northEast north east } handle northWest north west figure owner { new MoveHandle move handle owner RelativeLocator relative locator northWest north west } handle east figure owner { new MoveHandle move handle owner RelativeLocator relative locator east } handle west figure owner { new MoveHandle move handle owner RelativeLocator relative locator west } } 