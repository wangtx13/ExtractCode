org jhotdraw draw import awt * import awt geom * import org jhotdraw draw AttributeKeys attribute keys * import org jhotdraw geom * import org jhotdraw xml DOMInput dom input import org jhotdraw xml DOMOutput dom output RelativeLocator relative locator AbstractLocator locator { relativeX relative relativeY relative RelativeLocator relative locator { relativeX relative = 0 0 relativeY relative = 0 0 } RelativeLocator relative locator relativeX relative relativeY relative { this relativeX relative = relativeX relative this relativeY relative = relativeY relative } awt geom Point2D point2 locate figure owner { Rectangle2D rectangle2 bounds = owner getBounds get bounds if owner getDecorator get decorator != { Insets2DDouble insets2 insets = DECORATOR_INSETS get owner if insets != { bounds -= insets left bounds -= insets top bounds width += insets left + insets right bounds height += insets top + insets bottom } } new Point2D point2 bounds + bounds width * relativeX relative bounds + bounds height * relativeY relative } locator east { new RelativeLocator relative locator 1 0 0 5 } locator north { new RelativeLocator relative locator 0 5 0 0 } locator west { new RelativeLocator relative locator 0 0 0 5 } locator northEast north east { new RelativeLocator relative locator 1 0 0 0 } locator northWest north west { new RelativeLocator relative locator 0 0 0 0 } locator south { new RelativeLocator relative locator 0 5 1 0 } locator southEast south east { new RelativeLocator relative locator 1 0 1 0 } locator southWest south west { new RelativeLocator relative locator 0 0 1 0 } locator center { new RelativeLocator relative locator 0 5 0 5 } write DOMOutput dom output out { out addAttribute add attribute relativeX relative relativeX relative 0 5 out addAttribute add attribute relativeY relative relativeY relative 0 5 } read DOMInput dom input { relativeX relative = getAttribute get attribute relativeX relative 0 5 relativeY relative = getAttribute get attribute relativeY relative 0 5 } } 