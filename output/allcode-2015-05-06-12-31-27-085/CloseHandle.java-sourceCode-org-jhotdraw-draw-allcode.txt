org jhotdraw draw import awt * import awt geom * CloseHandle close handle LocatorHandle locator handle { private pressed CloseHandle close handle figure owner { super owner new RelativeLocator relative locator 1 0 0 0 } getHandlesize get handlesize { 9 } draw Graphics2D graphics2 { drawRectangle draw rectangle pressed ? color orange color white color black rectangle = getBounds get bounds drawLine draw line x+r width y+r height drawLine draw line x+r width y+r height } cursor getCursor get cursor { cursor getDefaultCursor get default cursor } trackEnd track point anchor point modifiersEx modifiers { pressed = basicGetBounds basic get bounds contains if pressed getOwner get owner requestRemove request remove fireAreaInvalidated fire area invalidated getDrawBounds get draw bounds } trackStart track start point anchor modifiersEx modifiers { pressed = fireAreaInvalidated fire area invalidated getDrawBounds get draw bounds } trackStep track step point anchor point modifiersEx modifiers { oldValue old value = pressed pressed = basicGetBounds basic get bounds contains if oldValue old value != pressed fireAreaInvalidated fire area invalidated getDrawBounds get draw bounds } } 