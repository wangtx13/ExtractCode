org jhotdraw draw import javax swing * import awt * import awt geom * import awt event * FloatingTextField floating text field { private JTextField text field editWidget edit widget private DrawingView drawing view view FloatingTextField floating text field { editWidget edit widget = new JTextField text field 20 } createOverlay create overlay DrawingView drawing view view { createOverlay create overlay view } requestFocus request focus { editWidget edit widget requestFocus request focus } createOverlay create overlay DrawingView drawing view view TextHolder text holder figure { view getContainer get container add editWidget edit widget 0 font = figure getFont get font = deriveFont derive font getStyle get style float getSize get size * view getScaleFactor get scale factor editWidget edit widget setFont set font editWidget edit widget setForeground set foreground figure getTextColor get text color editWidget edit widget setBackground set background figure getFillColor get fill color this view = view } insets getInsets get insets { editWidget edit widget getInsets get insets } addActionListener add action listener ActionListener action listener listener { editWidget edit widget addActionListener add action listener listener } removeActionListener remove action listener ActionListener action listener listener { editWidget edit widget removeActionListener remove action listener listener } setBounds set bounds rectangle text { editWidget edit widget setText set text text editWidget edit widget setBounds set bounds width height editWidget edit widget setVisible set visible editWidget edit widget selectAll select all editWidget edit widget requestFocus request focus } getText get text { editWidget edit widget getText get text } dimension getPreferredSize get preferred size cols { editWidget edit widget setColumns set columns cols editWidget edit widget getPreferredSize get preferred size } endOverlay overlay { view getContainer get container requestFocus request focus if editWidget edit widget != { editWidget edit widget setVisible set visible view getContainer get container remove editWidget edit widget rectangle bounds = editWidget edit widget getBounds get bounds view getContainer get container repaint bounds bounds bounds width bounds height } } } 