org jhotdraw app action import org jhotdraw util * import awt event ActionEvent action event import beans * import org jhotdraw app application ClearRecentFilesAction clear recent files action AbstractApplicationAction application action { = clearRecentFiles clear recent files private PropertyChangeListener property change listener applicationListener application listener ClearRecentFilesAction clear recent files action application app { super app ResourceBundleUtil resource bundle util labels = ResourceBundleUtil resource bundle util getLAFBundle get bundle org jhotdraw app labels labels configureAction configure action this clearMenu clear menu updateEnabled update enabled } @Override @ installApplicationListeners install application listeners application app { super installApplicationListeners install application listeners app if applicationListener application listener == { applicationListener application listener = createApplicationListener create application listener } app addPropertyChangeListener add property change listener applicationListener application listener } private PropertyChangeListener property change listener createApplicationListener create application listener { new PropertyChangeListener property change listener { propertyChange property change PropertyChangeEvent property change event evt { if evt getPropertyName get property == recentFiles recent files { updateEnabled update enabled } } } } @Override @ uninstallApplicationListeners uninstall application listeners application app { super uninstallApplicationListeners uninstall application listeners app app removePropertyChangeListener remove property change listener applicationListener application listener } actionPerformed action performed ActionEvent action event { getApplication get application clearRecentFiles clear recent files } private updateEnabled update enabled { setEnabled set enabled getApplication get application recentFiles recent files size > 0 } } 