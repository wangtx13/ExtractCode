org jhotdraw app action import org jhotdraw util * import beans * import awt * import awt event * import javax swing * import * import org jhotdraw app project focus action action { = focus private project project focus action project project { this project = project resource bundle util labels = resource bundle util get bundle org jhotdraw app labels labels configure action this set enabled project != project add property change listener new property change listener { property change property change event evt { resource bundle util labels = resource bundle util get bundle org jhotdraw app labels = evt get property if equals { put value action evt get new value == ? labels get unnamed evt get new value get } } } } get value key { if key == action project != { get title } else { super get value key } } private get title { resource bundle util labels = resource bundle util get bundle org jhotdraw app labels title = labels get unnamed if project != { = project get if == { title = labels get unnamed } else { title = get } if project has unsaved changes { title += * } title = labels get formatted internal frame title title project get application get project get multiple open } title } private frame get frame { frame swing utilities get window ancestor project get component } private component get root pane container { swing utilities get root pane project get component get parent } action performed action event evt { component rp container = get root pane container if rp container instanceof frame { frame frame = frame rp container frame set extended state frame get extended state ~ frame frame to front } else if rp container instanceof internal frame { internal frame frame = internal frame rp container frame to front try { frame set selected } catch property veto { } } project get component request focus window } } 