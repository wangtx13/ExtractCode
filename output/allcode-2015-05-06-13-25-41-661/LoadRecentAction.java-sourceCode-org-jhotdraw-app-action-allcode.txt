org jhotdraw app action import org jhotdraw util * import org jhotdraw gui * import org jhotdraw gui event * import awt * import awt event * import util * import util prefs * import javax swing * import * import org jhotdraw app application import org jhotdraw app project load recent action save before action { = load recent private load recent action application app { super app this = put value action get } it project project { application app = get application app set enabled multiple open = 1 for project project app projects { if project != project project get != project get equals { multiple open = math max multiple open project get multiple open + 1 } } project set multiple open multiple open project execute new worker { construct { try { project read } catch throwable { } } finished value { opened project value } } } opened project project value { application app = get application if value == { project set project set enabled frame = frame swing utilities get window ancestor project get component if != { set extended state get extended state ~ frame to front } project get component request focus if app != { app set enabled } } else { if value instanceof throwable { throwable value stack trace } sheet show message sheet project get component <html> + manager get option pane css + <b> couldn't open the \ +file+ \ </b><br> + value option pane ERROR_MESSAGE new sheet listener { option selected sheet event evt { } } } } } 