org jhotdraw draw import javax swing undo * import awt * import awt event * import awt geom * import util * import org jhotdraw geom * line figure bezier figure { line figure { basic add node new bezier path node new point2 0 0 basic add node new bezier path node new point2 0 0 } collection< handle> create handles detail level { linked list< handle> handles = new linked list< handle> switch detail level { case 0 for i=0 = path size < i++ { handles add new bezier node handle this } break } handles } can connect { } handle mouse click point2 mouse event evt drawing view view { if evt get click count == 2 view get handle detail level == 0 { will change index = basic split segment float 5f / view get scale factor if index != 1 { bezier path node new node = get node index fire undoable edit happened new undoable edit { redo cannot redo { super redo will change basic add node index new node changed } undo cannot undo { super undo will change basic remove node index changed } } changed } } } } 