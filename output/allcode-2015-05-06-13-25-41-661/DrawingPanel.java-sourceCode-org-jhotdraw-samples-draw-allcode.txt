org jhotdraw samples draw import org jhotdraw draw attribute keys * import org jhotdraw undo * import org jhotdraw util * import awt * import awt event * import util * import javax swing * import javax swing event * import org jhotdraw app action copy action import org jhotdraw app action cut action import org jhotdraw app action duplicate action import org jhotdraw app action paste action import org jhotdraw app action select all action import org jhotdraw draw * import org jhotdraw draw action * drawing panel panel { private undo redo manager undo manager private drawing drawing private drawing editor editor drawing panel { resource bundle util labels = resource bundle util get bundle org jhotdraw draw labels init components undo manager = new undo redo manager editor = new default drawing editor editor add view add creation buttons to creation toolbar editor tool bar button factory add attributes buttons to attributes toolbar editor popup button pb = new popup button pb set item font manager get font menu item font labels configure tool bar button pb actions pb add new duplicate action pb add separator pb add new group action editor pb add new ungroup action editor pb add separator pb add new move to front action editor pb add new move to back action editor pb add separator pb add new cut action pb add new copy action pb add new paste action pb add new select all action pb add new select same action editor pb add separator pb add undo manager get undo action pb add undo manager get redo action pb add separator pb add new toggle grid action editor menu = new menu labels get zoom radio button menu item rbmi button group group = new button group add rbmi = new radio button menu item new zoom action editor 0 1 group add rbmi add rbmi = new radio button menu item new zoom action editor 0 25 group add rbmi add rbmi = new radio button menu item new zoom action editor 0 5 group add rbmi add rbmi = new radio button menu item new zoom action editor 0 75 group add rbmi add rbmi = new radio button menu item new zoom action editor 1 0 rbmi set selected group add rbmi add rbmi = new radio button menu item new zoom action editor 1 25 group add rbmi add rbmi = new radio button menu item new zoom action editor 1 5 group add rbmi add rbmi = new radio button menu item new zoom action editor 2 group add rbmi add rbmi = new radio button menu item new zoom action editor 3 group add rbmi add rbmi = new radio button menu item new zoom action editor 4 group add rbmi pb add pb set focusable creation toolbar add separator creation toolbar add pb default drawing drawing = new default drawing view set drawing drawing drawing add undoable edit listener undo manager } set drawing drawing { undo manager discard all edits view get drawing remove undoable edit listener undo manager view set drawing add undoable edit listener undo manager } drawing get drawing { view get drawing } drawing view get view { view } drawing editor get editor { editor } private init components { awt grid bag constraints grid bag constraints tool button group = new javax swing button group scroll pane = new javax swing scroll pane view = new org jhotdraw draw default drawing view panel1 = new javax swing panel creation toolbar = new javax swing tool bar attributes toolbar = new javax swing tool bar set layout new awt border layout scroll pane set viewport view view add scroll pane awt border layout panel1 set layout new awt grid bag layout creation toolbar set floatable grid bag constraints = new awt grid bag constraints grid bag constraints gridx = 0 grid bag constraints gridy = 0 grid bag constraints anchor = awt grid bag constraints panel1 add creation toolbar grid bag constraints attributes toolbar set floatable grid bag constraints = new awt grid bag constraints grid bag constraints gridx = 0 grid bag constraints gridy = 1 grid bag constraints anchor = awt grid bag constraints panel1 add attributes toolbar grid bag constraints add panel1 awt border layout } private add creation buttons to tool bar tb drawing editor editor { add default creation buttons to tb editor tool bar button factory create drawing actions editor tool bar button factory create selection actions editor } add default creation buttons to tool bar tb drawing editor editor collection< action> drawing actions collection< action> selection actions { resource bundle util labels = resource bundle util get bundle org jhotdraw draw labels tool bar button factory add selection tool to tb editor drawing actions selection actions tb add separator attributed figure af creation tool connection tool cnt connection figure lc tool bar button factory add tool to tb editor new creation tool new rectangle figure create rectangle labels tool bar button factory add tool to tb editor new creation tool new round rectangle figure create round rectangle labels tool bar button factory add tool to tb editor new creation tool new ellipse figure create ellipse labels tool bar button factory add tool to tb editor new creation tool new diamond figure create diamond labels tool bar button factory add tool to tb editor new creation tool new triangle figure create triangle labels tool bar button factory add tool to tb editor new creation tool new line figure create line labels tool bar button factory add tool to tb editor = new creation tool new line figure create arrow labels af = attributed figure get prototype af set attribute END_DECORATION new arrow tip 0 35 12 11 3 tool bar button factory add tool to tb editor new connection tool new line connection figure create line connection labels tool bar button factory add tool to tb editor cnt = new connection tool new line connection figure create elbow connection labels lc = cnt get prototype lc set liner new elbow liner tool bar button factory add tool to tb editor new bezier tool new bezier figure create scribble labels tool bar button factory add tool to tb editor new bezier tool new bezier figure create polygon labels tool bar button factory add tool to tb editor new text tool new text figure create text labels tool bar button factory add tool to tb editor new text area tool new text area figure create text area labels } private javax swing tool bar attributes toolbar private javax swing tool bar creation toolbar private javax swing panel panel1 private javax swing scroll pane scroll pane private javax swing button group tool button group private org jhotdraw draw default drawing view view } 