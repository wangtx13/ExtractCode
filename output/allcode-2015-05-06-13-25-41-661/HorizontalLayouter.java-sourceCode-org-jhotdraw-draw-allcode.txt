org jhotdraw draw import org jhotdraw util * import awt * import awt geom * import util * import org jhotdraw geom * import org jhotdraw draw attribute keys * horizontal layouter layouter { rectangle2 calculate layout composite figure composite figure point2 anchor point2 { insets2 layout insets = LAYOUT_INSETS get composite figure rectangle2 layout bounds = new rectangle2 anchor anchor 0 0 for figure child composite figure get children { if child visible { dimension2 preferred size = child get preferred size insets2 ins = get insets child layout bounds height = math max layout bounds height preferred size height + ins top + ins bottom layout bounds width += preferred size width + ins left + ins right } } layout bounds width += layout insets left + layout insets right layout bounds height += layout insets top + layout insets bottom layout bounds } rectangle2 layout composite figure composite figure point2 anchor point2 { insets2 layout insets = LAYOUT_INSETS get composite figure rectangle2 layout bounds = calculate layout composite figure anchor = layout bounds + layout insets left for figure child composite figure get children { if child visible { insets2 insets = get insets child width = child get preferred size width child basic set bounds new point2 + insets left layout bounds + layout insets top + insets top new point2 + insets left + width layout bounds + layout bounds height layout insets bottom insets bottom += width + insets left + insets right } } layout bounds } } 