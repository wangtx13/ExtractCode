org jhotdraw draw import awt * import awt font * import awt geom * import util * import * label figure text figure implements figure listener { private text holder target label figure { this label } label figure text { set text text set editable } set label for text holder target { if this target != { this target remove figure listener this } this target = target if this target != { this target add figure listener this } } text holder get label for { target == ? this target } tool get tool point2 { target != contains ? new text tool target } figure area invalidated figure event { } figure attribute changed figure event { } figure added figure event { } figure changed figure event { } figure removed figure event { if get figure == target { target remove figure listener this target = } } figure request remove figure event { } remap hash map old to new { super remap old to new if target != { figure new target = figure old to new get target if new target != { target remove figure listener this target = text holder new target new target add figure listener this } } } } 